var Xi=Object.defineProperty;var Ha=e=>{throw TypeError(e)};var Zi=(e,t,r)=>t in e?Xi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Bn=(e,t,r)=>Zi(e,typeof t!="symbol"?t+"":t,r),Hn=(e,t,r)=>t.has(e)||Ha("Cannot "+r);var c=(e,t,r)=>(Hn(e,t,"read from private field"),r?r.call(e):t.get(e)),q=(e,t,r)=>t.has(e)?Ha("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),N=(e,t,r,n)=>(Hn(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Z=(e,t,r)=>(Hn(e,t,"access private method"),r);var ln=(e,t,r,n)=>({set _(a){N(e,t,a,r)},get _(){return c(e,t,n)}});import{r as w,j as A,R as ee,h as En,E as eo,$ as yn,a as to}from"./event-balance-b69Y-k0y.js";import{r as Qs}from"./react-dom-qeYyCGOw.js";import"./react-DjXIRphR.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var un={},Qa;function ro(){if(Qa)return un;Qa=1;var e=Qs();return un.createRoot=e.createRoot,un.hydrateRoot=e.hydrateRoot,un}var no=ro(),xr=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Yt=typeof window>"u"||"Deno"in globalThis;function qe(){}function ao(e,t){return typeof e=="function"?e(t):e}function Zn(e){return typeof e=="number"&&e>=0&&e!==1/0}function zs(e,t){return Math.max(e+(t||0)-Date.now(),0)}function or(e,t){return typeof e=="function"?e(t):e}function Xe(e,t){return typeof e=="function"?e(t):e}function za(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:i,stale:o}=e;if(i){if(n){if(t.queryHash!==ga(i,t.options))return!1}else if(!$r(t.queryKey,i))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||a&&a!==t.state.fetchStatus||s&&!s(t))}function qa(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(Jt(t.options.mutationKey)!==Jt(s))return!1}else if(!$r(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function ga(e,t){return((t==null?void 0:t.queryKeyHashFn)||Jt)(e)}function Jt(e){return JSON.stringify(e,(t,r)=>ea(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function $r(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!$r(e[r],t[r])):!1}function qs(e,t){if(e===t)return e;const r=Ka(e)&&Ka(t);if(r||ea(e)&&ea(t)){const n=r?e:Object.keys(e),a=n.length,s=r?t:Object.keys(t),i=s.length,o=r?[]:{};let l=0;for(let u=0;u<i;u++){const m=r?u:s[u];(!r&&n.includes(m)||r)&&e[m]===void 0&&t[m]===void 0?(o[m]=void 0,l++):(o[m]=qs(e[m],t[m]),o[m]===e[m]&&e[m]!==void 0&&l++)}return a===i&&l===a?e:o}return t}function Rn(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Ka(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ea(e){if(!Wa(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Wa(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Wa(e){return Object.prototype.toString.call(e)==="[object Object]"}function so(e){return new Promise(t=>{setTimeout(t,e)})}function ta(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?qs(e,t):t}function io(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function oo(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var va=Symbol();function Ks(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===va?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Bt,Dt,lr,_s,lo=(_s=class extends xr{constructor(){super();q(this,Bt);q(this,Dt);q(this,lr);N(this,lr,t=>{if(!Yt&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){c(this,Dt)||this.setEventListener(c(this,lr))}onUnsubscribe(){var t;this.hasListeners()||((t=c(this,Dt))==null||t.call(this),N(this,Dt,void 0))}setEventListener(t){var r;N(this,lr,t),(r=c(this,Dt))==null||r.call(this),N(this,Dt,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){c(this,Bt)!==t&&(N(this,Bt,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof c(this,Bt)=="boolean"?c(this,Bt):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Bt=new WeakMap,Dt=new WeakMap,lr=new WeakMap,_s),ba=new lo,ur,Pt,cr,ks,uo=(ks=class extends xr{constructor(){super();q(this,ur,!0);q(this,Pt);q(this,cr);N(this,cr,t=>{if(!Yt&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){c(this,Pt)||this.setEventListener(c(this,cr))}onUnsubscribe(){var t;this.hasListeners()||((t=c(this,Pt))==null||t.call(this),N(this,Pt,void 0))}setEventListener(t){var r;N(this,cr,t),(r=c(this,Pt))==null||r.call(this),N(this,Pt,t(this.setOnline.bind(this)))}setOnline(t){c(this,ur)!==t&&(N(this,ur,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return c(this,ur)}},ur=new WeakMap,Pt=new WeakMap,cr=new WeakMap,ks),Sn=new uo;function ra(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function co(e){return Math.min(1e3*2**e,3e4)}function Ws(e){return(e??"online")==="online"?Sn.isOnline():!0}var Gs=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Qn(e){return e instanceof Gs}function Ys(e){let t=!1,r=0,n=!1,a;const s=ra(),i=R=>{var C;n||(p(new Gs(R)),(C=e.abort)==null||C.call(e))},o=()=>{t=!0},l=()=>{t=!1},u=()=>ba.isFocused()&&(e.networkMode==="always"||Sn.isOnline())&&e.canRun(),m=()=>Ws(e.networkMode)&&e.canRun(),h=R=>{var C;n||(n=!0,(C=e.onSuccess)==null||C.call(e,R),a==null||a(),s.resolve(R))},p=R=>{var C;n||(n=!0,(C=e.onError)==null||C.call(e,R),a==null||a(),s.reject(R))},b=()=>new Promise(R=>{var C;a=x=>{(n||u())&&R(x)},(C=e.onPause)==null||C.call(e)}).then(()=>{var R;a=void 0,n||(R=e.onContinue)==null||R.call(e)}),g=()=>{if(n)return;let R;const C=r===0?e.initialPromise:void 0;try{R=C??e.fn()}catch(x){R=Promise.reject(x)}Promise.resolve(R).then(h).catch(x=>{var B;if(n)return;const P=e.retry??(Yt?0:3),T=e.retryDelay??co,$=typeof T=="function"?T(r,x):T,y=P===!0||typeof P=="number"&&r<P||typeof P=="function"&&P(r,x);if(t||!y){p(x);return}r++,(B=e.onFail)==null||B.call(e,r,x),so($).then(()=>u()?void 0:b()).then(()=>{t?p(x):g()})})};return{promise:s,cancel:i,continue:()=>(a==null||a(),s),cancelRetry:o,continueRetry:l,canStart:m,start:()=>(m()?g():b().then(g),s)}}function fo(){let e=[],t=0,r=o=>{o()},n=o=>{o()},a=o=>setTimeout(o,0);const s=o=>{t?e.push(o):a(()=>{r(o)})},i=()=>{const o=e;e=[],o.length&&a(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;t++;try{l=o()}finally{t--,t||i()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var Ee=fo(),Ht,Ns,Js=(Ns=class{constructor(){q(this,Ht)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Zn(this.gcTime)&&N(this,Ht,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Yt?1/0:5*60*1e3))}clearGcTimeout(){c(this,Ht)&&(clearTimeout(c(this,Ht)),N(this,Ht,void 0))}},Ht=new WeakMap,Ns),dr,fr,ze,Qt,Te,Qr,zt,Ge,pt,js,ho=(js=class extends Js{constructor(t){super();q(this,Ge);q(this,dr);q(this,fr);q(this,ze);q(this,Qt);q(this,Te);q(this,Qr);q(this,zt);N(this,zt,!1),N(this,Qr,t.defaultOptions),this.setOptions(t.options),this.observers=[],N(this,Qt,t.client),N(this,ze,c(this,Qt).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,N(this,dr,mo(this.options)),this.state=t.state??c(this,dr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=c(this,Te))==null?void 0:t.promise}setOptions(t){this.options={...c(this,Qr),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&c(this,ze).remove(this)}setData(t,r){const n=ta(this.state.data,t,this.options);return Z(this,Ge,pt).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Z(this,Ge,pt).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=c(this,Te))==null?void 0:n.promise;return(a=c(this,Te))==null||a.cancel(t),r?r.then(qe).catch(qe):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(c(this,dr))}isActive(){return this.observers.some(t=>Xe(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===va||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!zs(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=c(this,Te))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=c(this,Te))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),c(this,ze).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(c(this,Te)&&(c(this,zt)?c(this,Te).cancel({revert:!0}):c(this,Te).cancelRetry()),this.scheduleGc()),c(this,ze).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Z(this,Ge,pt).call(this,{type:"invalidate"})}fetch(t,r){var l,u,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(c(this,Te))return c(this,Te).continueRetry(),c(this,Te).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(N(this,zt,!0),n.signal)})},s=()=>{const h=Ks(this.options,r),p={client:c(this,Qt),queryKey:this.queryKey,meta:this.meta};return a(p),N(this,zt,!1),this.options.persister?this.options.persister(h,p,this):h(p)},i={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:c(this,Qt),state:this.state,fetchFn:s};a(i),(l=this.options.behavior)==null||l.onFetch(i,this),N(this,fr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=i.fetchOptions)==null?void 0:u.meta))&&Z(this,Ge,pt).call(this,{type:"fetch",meta:(m=i.fetchOptions)==null?void 0:m.meta});const o=h=>{var p,b,g,R;Qn(h)&&h.silent||Z(this,Ge,pt).call(this,{type:"error",error:h}),Qn(h)||((b=(p=c(this,ze).config).onError)==null||b.call(p,h,this),(R=(g=c(this,ze).config).onSettled)==null||R.call(g,this.state.data,h,this)),this.scheduleGc()};return N(this,Te,Ys({initialPromise:r==null?void 0:r.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var p,b,g,R;if(h===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(C){o(C);return}(b=(p=c(this,ze).config).onSuccess)==null||b.call(p,h,this),(R=(g=c(this,ze).config).onSettled)==null||R.call(g,h,this.state.error,this),this.scheduleGc()},onError:o,onFail:(h,p)=>{Z(this,Ge,pt).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{Z(this,Ge,pt).call(this,{type:"pause"})},onContinue:()=>{Z(this,Ge,pt).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),c(this,Te).start()}},dr=new WeakMap,fr=new WeakMap,ze=new WeakMap,Qt=new WeakMap,Te=new WeakMap,Qr=new WeakMap,zt=new WeakMap,Ge=new WeakSet,pt=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Xs(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return Qn(a)&&a.revert&&c(this,fr)?{...c(this,fr),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Ee.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),c(this,ze).notify({query:this,type:"updated",action:t})})},js);function Xs(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ws(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function mo(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var at,Is,yo=(Is=class extends xr{constructor(t={}){super();q(this,at);this.config=t,N(this,at,new Map)}build(t,r,n){const a=r.queryKey,s=r.queryHash??ga(a,r);let i=this.get(s);return i||(i=new ho({client:t,queryKey:a,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(i)),i}add(t){c(this,at).has(t.queryHash)||(c(this,at).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=c(this,at).get(t.queryHash);r&&(t.destroy(),r===t&&c(this,at).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ee.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return c(this,at).get(t)}getAll(){return[...c(this,at).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>za(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>za(t,n)):r}notify(t){Ee.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Ee.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ee.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},at=new WeakMap,Is),st,Oe,qt,it,Et,Us,po=(Us=class extends Js{constructor(t){super();q(this,it);q(this,st);q(this,Oe);q(this,qt);this.mutationId=t.mutationId,N(this,Oe,t.mutationCache),N(this,st,[]),this.state=t.state||Zs(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){c(this,st).includes(t)||(c(this,st).push(t),this.clearGcTimeout(),c(this,Oe).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){N(this,st,c(this,st).filter(r=>r!==t)),this.scheduleGc(),c(this,Oe).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){c(this,st).length||(this.state.status==="pending"?this.scheduleGc():c(this,Oe).remove(this))}continue(){var t;return((t=c(this,qt))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,s,i,o,l,u,m,h,p,b,g,R,C,x,P,T,$,y,B,K;N(this,qt,Ys({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(j,V)=>{Z(this,it,Et).call(this,{type:"failed",failureCount:j,error:V})},onPause:()=>{Z(this,it,Et).call(this,{type:"pause"})},onContinue:()=>{Z(this,it,Et).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>c(this,Oe).canRun(this)}));const r=this.state.status==="pending",n=!c(this,qt).canStart();try{if(!r){Z(this,it,Et).call(this,{type:"pending",variables:t,isPaused:n}),await((s=(a=c(this,Oe).config).onMutate)==null?void 0:s.call(a,t,this));const V=await((o=(i=this.options).onMutate)==null?void 0:o.call(i,t));V!==this.state.context&&Z(this,it,Et).call(this,{type:"pending",context:V,variables:t,isPaused:n})}const j=await c(this,qt).start();return await((u=(l=c(this,Oe).config).onSuccess)==null?void 0:u.call(l,j,t,this.state.context,this)),await((h=(m=this.options).onSuccess)==null?void 0:h.call(m,j,t,this.state.context)),await((b=(p=c(this,Oe).config).onSettled)==null?void 0:b.call(p,j,null,this.state.variables,this.state.context,this)),await((R=(g=this.options).onSettled)==null?void 0:R.call(g,j,null,t,this.state.context)),Z(this,it,Et).call(this,{type:"success",data:j}),j}catch(j){try{throw await((x=(C=c(this,Oe).config).onError)==null?void 0:x.call(C,j,t,this.state.context,this)),await((T=(P=this.options).onError)==null?void 0:T.call(P,j,t,this.state.context)),await((y=($=c(this,Oe).config).onSettled)==null?void 0:y.call($,void 0,j,this.state.variables,this.state.context,this)),await((K=(B=this.options).onSettled)==null?void 0:K.call(B,void 0,j,t,this.state.context)),j}finally{Z(this,it,Et).call(this,{type:"error",error:j})}}finally{c(this,Oe).runNext(this)}}},st=new WeakMap,Oe=new WeakMap,qt=new WeakMap,it=new WeakSet,Et=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ee.batch(()=>{c(this,st).forEach(n=>{n.onMutationUpdate(t)}),c(this,Oe).notify({mutation:this,type:"updated",action:t})})},Us);function Zs(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var gt,Ye,zr,Vs,go=(Vs=class extends xr{constructor(t={}){super();q(this,gt);q(this,Ye);q(this,zr);this.config=t,N(this,gt,new Set),N(this,Ye,new Map),N(this,zr,0)}build(t,r,n){const a=new po({mutationCache:this,mutationId:++ln(this,zr)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){c(this,gt).add(t);const r=cn(t);if(typeof r=="string"){const n=c(this,Ye).get(r);n?n.push(t):c(this,Ye).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(c(this,gt).delete(t)){const r=cn(t);if(typeof r=="string"){const n=c(this,Ye).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&c(this,Ye).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=cn(t);if(typeof r=="string"){const n=c(this,Ye).get(r),a=n==null?void 0:n.find(s=>s.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=cn(t);if(typeof r=="string"){const a=(n=c(this,Ye).get(r))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ee.batch(()=>{c(this,gt).forEach(t=>{this.notify({type:"removed",mutation:t})}),c(this,gt).clear(),c(this,Ye).clear()})}getAll(){return Array.from(c(this,gt))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>qa(r,n))}findAll(t={}){return this.getAll().filter(r=>qa(t,r))}notify(t){Ee.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Ee.batch(()=>Promise.all(t.map(r=>r.continue().catch(qe))))}},gt=new WeakMap,Ye=new WeakMap,zr=new WeakMap,Vs);function cn(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Ga(e){return{onFetch:(t,r)=>{var m,h,p,b,g;const n=t.options,a=(p=(h=(m=t.fetchOptions)==null?void 0:m.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,s=((b=t.state.data)==null?void 0:b.pages)||[],i=((g=t.state.data)==null?void 0:g.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let R=!1;const C=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(t.signal.aborted?R=!0:t.signal.addEventListener("abort",()=>{R=!0}),t.signal)})},x=Ks(t.options,t.fetchOptions),P=async(T,$,y)=>{if(R)return Promise.reject();if($==null&&T.pages.length)return Promise.resolve(T);const B={client:t.client,queryKey:t.queryKey,pageParam:$,direction:y?"backward":"forward",meta:t.options.meta};C(B);const K=await x(B),{maxPages:j}=t.options,V=y?oo:io;return{pages:V(T.pages,K,j),pageParams:V(T.pageParams,$,j)}};if(a&&s.length){const T=a==="backward",$=T?vo:Ya,y={pages:s,pageParams:i},B=$(n,y);o=await P(y,B,T)}else{const T=e??s.length;do{const $=l===0?i[0]??n.initialPageParam:Ya(n,o);if(l>0&&$==null)break;o=await P(o,$),l++}while(l<T)}return o};t.options.persister?t.fetchFn=()=>{var R,C;return(C=(R=t.options).persister)==null?void 0:C.call(R,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function Ya(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function vo(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var ye,Ft,Lt,hr,mr,Tt,yr,pr,$s,bo=($s=class{constructor(e={}){q(this,ye);q(this,Ft);q(this,Lt);q(this,hr);q(this,mr);q(this,Tt);q(this,yr);q(this,pr);N(this,ye,e.queryCache||new yo),N(this,Ft,e.mutationCache||new go),N(this,Lt,e.defaultOptions||{}),N(this,hr,new Map),N(this,mr,new Map),N(this,Tt,0)}mount(){ln(this,Tt)._++,c(this,Tt)===1&&(N(this,yr,ba.subscribe(async e=>{e&&(await this.resumePausedMutations(),c(this,ye).onFocus())})),N(this,pr,Sn.subscribe(async e=>{e&&(await this.resumePausedMutations(),c(this,ye).onOnline())})))}unmount(){var e,t;ln(this,Tt)._--,c(this,Tt)===0&&((e=c(this,yr))==null||e.call(this),N(this,yr,void 0),(t=c(this,pr))==null||t.call(this),N(this,pr,void 0))}isFetching(e){return c(this,ye).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return c(this,Ft).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=c(this,ye).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=c(this,ye).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(or(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return c(this,ye).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=c(this,ye).get(n.queryHash),s=a==null?void 0:a.state.data,i=ao(t,s);if(i!==void 0)return c(this,ye).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return Ee.batch(()=>c(this,ye).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=c(this,ye).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=c(this,ye);Ee.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=c(this,ye),n={type:"active",...e};return Ee.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(n,t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Ee.batch(()=>c(this,ye).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(qe).catch(qe)}invalidateQueries(e,t={}){return Ee.batch(()=>{if(c(this,ye).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none")return Promise.resolve();const r={...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"};return this.refetchQueries(r,t)})}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Ee.batch(()=>c(this,ye).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(qe)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(qe)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=c(this,ye).build(this,t);return r.isStaleByTime(or(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(qe).catch(qe)}fetchInfiniteQuery(e){return e.behavior=Ga(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(qe).catch(qe)}ensureInfiniteQueryData(e){return e.behavior=Ga(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Sn.isOnline()?c(this,Ft).resumePausedMutations():Promise.resolve()}getQueryCache(){return c(this,ye)}getMutationCache(){return c(this,Ft)}getDefaultOptions(){return c(this,Lt)}setDefaultOptions(e){N(this,Lt,e)}setQueryDefaults(e,t){c(this,hr).set(Jt(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...c(this,hr).values()],r={};return t.forEach(n=>{$r(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){c(this,mr).set(Jt(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...c(this,mr).values()];let r={};return t.forEach(n=>{$r(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...c(this,Lt).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ga(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===va&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...c(this,Lt).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){c(this,ye).clear(),c(this,Ft).clear()}},ye=new WeakMap,Ft=new WeakMap,Lt=new WeakMap,hr=new WeakMap,mr=new WeakMap,Tt=new WeakMap,yr=new WeakMap,pr=new WeakMap,$s),Ne,ae,qr,Ae,Kt,gr,Mt,ot,Kr,vr,br,Wt,Gt,Ot,wr,oe,jr,na,aa,sa,ia,oa,la,ua,ei,Bs,wo=(Bs=class extends xr{constructor(t,r){super();q(this,oe);q(this,Ne);q(this,ae);q(this,qr);q(this,Ae);q(this,Kt);q(this,gr);q(this,Mt);q(this,ot);q(this,Kr);q(this,vr);q(this,br);q(this,Wt);q(this,Gt);q(this,Ot);q(this,wr,new Set);this.options=r,N(this,Ne,t),N(this,ot,null),N(this,Mt,ra()),this.options.experimental_prefetchInRender||c(this,Mt).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(c(this,ae).addObserver(this),Ja(c(this,ae),this.options)?Z(this,oe,jr).call(this):this.updateResult(),Z(this,oe,ia).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ca(c(this,ae),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ca(c(this,ae),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Z(this,oe,oa).call(this),Z(this,oe,la).call(this),c(this,ae).removeObserver(this)}setOptions(t,r){const n=this.options,a=c(this,ae);if(this.options=c(this,Ne).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Xe(this.options.enabled,c(this,ae))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Z(this,oe,ua).call(this),c(this,ae).setOptions(this.options),n._defaulted&&!Rn(this.options,n)&&c(this,Ne).getQueryCache().notify({type:"observerOptionsUpdated",query:c(this,ae),observer:this});const s=this.hasListeners();s&&Xa(c(this,ae),a,this.options,n)&&Z(this,oe,jr).call(this),this.updateResult(r),s&&(c(this,ae)!==a||Xe(this.options.enabled,c(this,ae))!==Xe(n.enabled,c(this,ae))||or(this.options.staleTime,c(this,ae))!==or(n.staleTime,c(this,ae)))&&Z(this,oe,na).call(this);const i=Z(this,oe,aa).call(this);s&&(c(this,ae)!==a||Xe(this.options.enabled,c(this,ae))!==Xe(n.enabled,c(this,ae))||i!==c(this,Ot))&&Z(this,oe,sa).call(this,i)}getOptimisticResult(t){const r=c(this,Ne).getQueryCache().build(c(this,Ne),t),n=this.createResult(r,t);return Eo(this,n)&&(N(this,Ae,n),N(this,gr,this.options),N(this,Kt,c(this,ae).state)),n}getCurrentResult(){return c(this,Ae)}trackResult(t,r){const n={};return Object.keys(t).forEach(a=>{Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),t[a])})}),n}trackProp(t){c(this,wr).add(t)}getCurrentQuery(){return c(this,ae)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=c(this,Ne).defaultQueryOptions(t),n=c(this,Ne).getQueryCache().build(c(this,Ne),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Z(this,oe,jr).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),c(this,Ae)))}createResult(t,r){var j;const n=c(this,ae),a=this.options,s=c(this,Ae),i=c(this,Kt),o=c(this,gr),u=t!==n?t.state:c(this,qr),{state:m}=t;let h={...m},p=!1,b;if(r._optimisticResults){const V=this.hasListeners(),X=!V&&Ja(t,r),de=V&&Xa(t,n,r,a);(X||de)&&(h={...h,...Xs(m.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:g,errorUpdatedAt:R,status:C}=h;if(r.select&&h.data!==void 0)if(s&&h.data===(i==null?void 0:i.data)&&r.select===c(this,Kr))b=c(this,vr);else try{N(this,Kr,r.select),b=r.select(h.data),b=ta(s==null?void 0:s.data,b,r),N(this,vr,b),N(this,ot,null)}catch(V){N(this,ot,V)}else b=h.data;if(r.placeholderData!==void 0&&b===void 0&&C==="pending"){let V;if(s!=null&&s.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData))V=s.data;else if(V=typeof r.placeholderData=="function"?r.placeholderData((j=c(this,br))==null?void 0:j.state.data,c(this,br)):r.placeholderData,r.select&&V!==void 0)try{V=r.select(V),N(this,ot,null)}catch(X){N(this,ot,X)}V!==void 0&&(C="success",b=ta(s==null?void 0:s.data,V,r),p=!0)}c(this,ot)&&(g=c(this,ot),b=c(this,vr),R=Date.now(),C="error");const x=h.fetchStatus==="fetching",P=C==="pending",T=C==="error",$=P&&x,y=b!==void 0,K={status:C,fetchStatus:h.fetchStatus,isPending:P,isSuccess:C==="success",isError:T,isInitialLoading:$,isLoading:$,data:b,dataUpdatedAt:h.dataUpdatedAt,error:g,errorUpdatedAt:R,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!P,isLoadingError:T&&!y,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:T&&y,isStale:wa(t,r),refetch:this.refetch,promise:c(this,Mt)};if(this.options.experimental_prefetchInRender){const V=W=>{K.status==="error"?W.reject(K.error):K.data!==void 0&&W.resolve(K.data)},X=()=>{const W=N(this,Mt,K.promise=ra());V(W)},de=c(this,Mt);switch(de.status){case"pending":t.queryHash===n.queryHash&&V(de);break;case"fulfilled":(K.status==="error"||K.data!==de.value)&&X();break;case"rejected":(K.status!=="error"||K.error!==de.reason)&&X();break}}return K}updateResult(t){const r=c(this,Ae),n=this.createResult(c(this,ae),this.options);if(N(this,Kt,c(this,ae).state),N(this,gr,this.options),c(this,Kt).data!==void 0&&N(this,br,c(this,ae)),Rn(n,r))return;N(this,Ae,n);const a={},s=()=>{if(!r)return!0;const{notifyOnChangeProps:i}=this.options,o=typeof i=="function"?i():i;if(o==="all"||!o&&!c(this,wr).size)return!0;const l=new Set(o??c(this,wr));return this.options.throwOnError&&l.add("error"),Object.keys(c(this,Ae)).some(u=>{const m=u;return c(this,Ae)[m]!==r[m]&&l.has(m)})};(t==null?void 0:t.listeners)!==!1&&s()&&(a.listeners=!0),Z(this,oe,ei).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Z(this,oe,ia).call(this)}},Ne=new WeakMap,ae=new WeakMap,qr=new WeakMap,Ae=new WeakMap,Kt=new WeakMap,gr=new WeakMap,Mt=new WeakMap,ot=new WeakMap,Kr=new WeakMap,vr=new WeakMap,br=new WeakMap,Wt=new WeakMap,Gt=new WeakMap,Ot=new WeakMap,wr=new WeakMap,oe=new WeakSet,jr=function(t){Z(this,oe,ua).call(this);let r=c(this,ae).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(qe)),r},na=function(){Z(this,oe,oa).call(this);const t=or(this.options.staleTime,c(this,ae));if(Yt||c(this,Ae).isStale||!Zn(t))return;const n=zs(c(this,Ae).dataUpdatedAt,t)+1;N(this,Wt,setTimeout(()=>{c(this,Ae).isStale||this.updateResult()},n))},aa=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(c(this,ae)):this.options.refetchInterval)??!1},sa=function(t){Z(this,oe,la).call(this),N(this,Ot,t),!(Yt||Xe(this.options.enabled,c(this,ae))===!1||!Zn(c(this,Ot))||c(this,Ot)===0)&&N(this,Gt,setInterval(()=>{(this.options.refetchIntervalInBackground||ba.isFocused())&&Z(this,oe,jr).call(this)},c(this,Ot)))},ia=function(){Z(this,oe,na).call(this),Z(this,oe,sa).call(this,Z(this,oe,aa).call(this))},oa=function(){c(this,Wt)&&(clearTimeout(c(this,Wt)),N(this,Wt,void 0))},la=function(){c(this,Gt)&&(clearInterval(c(this,Gt)),N(this,Gt,void 0))},ua=function(){const t=c(this,Ne).getQueryCache().build(c(this,Ne),this.options);if(t===c(this,ae))return;const r=c(this,ae);N(this,ae,t),N(this,qr,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},ei=function(t){Ee.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(c(this,Ae))}),c(this,Ne).getQueryCache().notify({query:c(this,ae),type:"observerResultsUpdated"})})},Bs);function xo(e,t){return Xe(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Ja(e,t){return xo(e,t)||e.state.data!==void 0&&ca(e,t,t.refetchOnMount)}function ca(e,t,r){if(Xe(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&wa(e,t)}return!1}function Xa(e,t,r,n){return(e!==t||Xe(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&wa(e,r)}function wa(e,t){return Xe(t.enabled,e)!==!1&&e.isStaleByTime(or(t.staleTime,e))}function Eo(e,t){return!Rn(e.getCurrentResult(),t)}var At,_t,je,vt,bt,pn,da,Hs,Ro=(Hs=class extends xr{constructor(r,n){super();q(this,bt);q(this,At);q(this,_t);q(this,je);q(this,vt);N(this,At,r),this.setOptions(n),this.bindMethods(),Z(this,bt,pn).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=c(this,At).defaultMutationOptions(r),Rn(this.options,n)||c(this,At).getMutationCache().notify({type:"observerOptionsUpdated",mutation:c(this,je),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Jt(n.mutationKey)!==Jt(this.options.mutationKey)?this.reset():((a=c(this,je))==null?void 0:a.state.status)==="pending"&&c(this,je).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=c(this,je))==null||r.removeObserver(this)}onMutationUpdate(r){Z(this,bt,pn).call(this),Z(this,bt,da).call(this,r)}getCurrentResult(){return c(this,_t)}reset(){var r;(r=c(this,je))==null||r.removeObserver(this),N(this,je,void 0),Z(this,bt,pn).call(this),Z(this,bt,da).call(this)}mutate(r,n){var a;return N(this,vt,n),(a=c(this,je))==null||a.removeObserver(this),N(this,je,c(this,At).getMutationCache().build(c(this,At),this.options)),c(this,je).addObserver(this),c(this,je).execute(r)}},At=new WeakMap,_t=new WeakMap,je=new WeakMap,vt=new WeakMap,bt=new WeakSet,pn=function(){var n;const r=((n=c(this,je))==null?void 0:n.state)??Zs();N(this,_t,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},da=function(r){Ee.batch(()=>{var n,a,s,i,o,l,u,m;if(c(this,vt)&&this.hasListeners()){const h=c(this,_t).variables,p=c(this,_t).context;(r==null?void 0:r.type)==="success"?((a=(n=c(this,vt)).onSuccess)==null||a.call(n,r.data,h,p),(i=(s=c(this,vt)).onSettled)==null||i.call(s,r.data,null,h,p)):(r==null?void 0:r.type)==="error"&&((l=(o=c(this,vt)).onError)==null||l.call(o,r.error,h,p),(m=(u=c(this,vt)).onSettled)==null||m.call(u,void 0,r.error,h,p))}this.listeners.forEach(h=>{h(c(this,_t))})})},Hs),ti=w.createContext(void 0),ri=e=>{const t=w.useContext(ti);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},So=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),A.jsx(ti.Provider,{value:e,children:t})),ni=w.createContext(!1),Co=()=>w.useContext(ni);ni.Provider;function Do(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Po=w.createContext(Do()),Fo=()=>w.useContext(Po);function ai(e,t){return typeof e=="function"?e(...t):!!e}function fa(){}var Lo=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},To=e=>{w.useEffect(()=>{e.clearReset()},[e])},Mo=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||ai(r,[e.error,n])),Oo=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...r)=>Math.max(t(...r),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Ao=(e,t)=>e.isLoading&&e.isFetching&&!t,_o=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Za=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function ko(e,t,r){var h,p,b,g,R;const n=ri(),a=Co(),s=Fo(),i=n.defaultQueryOptions(e);(p=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||p.call(h,i),i._optimisticResults=a?"isRestoring":"optimistic",Oo(i),Lo(i,s),To(s);const o=!n.getQueryCache().get(i.queryHash),[l]=w.useState(()=>new t(n,i)),u=l.getOptimisticResult(i),m=!a&&e.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(C=>{const x=m?l.subscribe(Ee.batchCalls(C)):fa;return l.updateResult(),x},[l,m]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),w.useEffect(()=>{l.setOptions(i,{listeners:!1})},[i,l]),_o(i,u))throw Za(i,l,s);if(Mo({result:u,errorResetBoundary:s,throwOnError:i.throwOnError,query:n.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw u.error;if((g=(b=n.getDefaultOptions().queries)==null?void 0:b._experimental_afterQuery)==null||g.call(b,i,u),i.experimental_prefetchInRender&&!Yt&&Ao(u,a)){const C=o?Za(i,l,s):(R=n.getQueryCache().get(i.queryHash))==null?void 0:R.promise;C==null||C.catch(fa).finally(()=>{l.updateResult()})}return i.notifyOnChangeProps?u:l.trackResult(u)}function si(e,t){return ko(e,wo)}function es(e,t){const r=ri(),[n]=w.useState(()=>new Ro(r,e));w.useEffect(()=>{n.setOptions(e)},[n,e]);const a=w.useSyncExternalStore(w.useCallback(i=>n.subscribe(Ee.batchCalls(i)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=w.useCallback((i,o)=>{n.mutate(i,o).catch(fa)},[n]);if(a.error&&ai(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:s,mutateAsync:a.mutate}}var Tr={},ts;function No(){if(ts)return Tr;ts=1,Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.parse=i,Tr.serialize=u;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,s=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function i(p,b){const g=new s,R=p.length;if(R<2)return g;const C=(b==null?void 0:b.decode)||m;let x=0;do{const P=p.indexOf("=",x);if(P===-1)break;const T=p.indexOf(";",x),$=T===-1?R:T;if(P>$){x=p.lastIndexOf(";",P-1)+1;continue}const y=o(p,x,P),B=l(p,P,y),K=p.slice(y,B);if(g[K]===void 0){let j=o(p,P+1,$),V=l(p,$,j);const X=C(p.slice(j,V));g[K]=X}x=$+1}while(x<R);return g}function o(p,b,g){do{const R=p.charCodeAt(b);if(R!==32&&R!==9)return b}while(++b<g);return g}function l(p,b,g){for(;b>g;){const R=p.charCodeAt(--b);if(R!==32&&R!==9)return b+1}return g}function u(p,b,g){const R=(g==null?void 0:g.encode)||encodeURIComponent;if(!e.test(p))throw new TypeError(`argument name is invalid: ${p}`);const C=R(b);if(!t.test(C))throw new TypeError(`argument val is invalid: ${b}`);let x=p+"="+C;if(!g)return x;if(g.maxAge!==void 0){if(!Number.isInteger(g.maxAge))throw new TypeError(`option maxAge is invalid: ${g.maxAge}`);x+="; Max-Age="+g.maxAge}if(g.domain){if(!r.test(g.domain))throw new TypeError(`option domain is invalid: ${g.domain}`);x+="; Domain="+g.domain}if(g.path){if(!n.test(g.path))throw new TypeError(`option path is invalid: ${g.path}`);x+="; Path="+g.path}if(g.expires){if(!h(g.expires)||!Number.isFinite(g.expires.valueOf()))throw new TypeError(`option expires is invalid: ${g.expires}`);x+="; Expires="+g.expires.toUTCString()}if(g.httpOnly&&(x+="; HttpOnly"),g.secure&&(x+="; Secure"),g.partitioned&&(x+="; Partitioned"),g.priority)switch(typeof g.priority=="string"?g.priority.toLowerCase():void 0){case"low":x+="; Priority=Low";break;case"medium":x+="; Priority=Medium";break;case"high":x+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${g.priority}`)}if(g.sameSite)switch(typeof g.sameSite=="string"?g.sameSite.toLowerCase():g.sameSite){case!0:case"strict":x+="; SameSite=Strict";break;case"lax":x+="; SameSite=Lax";break;case"none":x+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${g.sameSite}`)}return x}function m(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function h(p){return a.call(p)==="[object Date]"}return Tr}No();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var rs="popstate";function jo(e={}){function t(n,a){let{pathname:s,search:i,hash:o}=n.location;return Br("",{pathname:s,search:i,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:kt(a)}return Uo(t,r,null,e)}function se(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Pe(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Io(){return Math.random().toString(36).substring(2,10)}function ns(e,t){return{usr:e.state,key:e.key,idx:t}}function Br(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Nt(t):t,state:r,key:t&&t.key||n||Io()}}function kt({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Nt(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function Uo(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:s=!1}=n,i=a.history,o="POP",l=null,u=m();u==null&&(u=0,i.replaceState({...i.state,idx:u},""));function m(){return(i.state||{idx:null}).idx}function h(){o="POP";let C=m(),x=C==null?null:C-u;u=C,l&&l({action:o,location:R.location,delta:x})}function p(C,x){o="PUSH";let P=Br(R.location,C,x);u=m()+1;let T=ns(P,u),$=R.createHref(P);try{i.pushState(T,"",$)}catch(y){if(y instanceof DOMException&&y.name==="DataCloneError")throw y;a.location.assign($)}s&&l&&l({action:o,location:R.location,delta:1})}function b(C,x){o="REPLACE";let P=Br(R.location,C,x);u=m();let T=ns(P,u),$=R.createHref(P);i.replaceState(T,"",$),s&&l&&l({action:o,location:R.location,delta:0})}function g(C){let x=a.location.origin!=="null"?a.location.origin:a.location.href,P=typeof C=="string"?C:kt(C);return P=P.replace(/ $/,"%20"),se(x,`No window.location.(origin|href) available to create URL for href: ${P}`),new URL(P,x)}let R={get action(){return o},get location(){return e(a,i)},listen(C){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(rs,h),l=C,()=>{a.removeEventListener(rs,h),l=null}},createHref(C){return t(a,C)},createURL:g,encodeLocation(C){let x=g(C);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:b,go(C){return i.go(C)}};return R}var Vo=new Set(["lazy","caseSensitive","path","id","index","children"]);function $o(e){return e.index===!0}function Cn(e,t,r=[],n={}){return e.map((a,s)=>{let i=[...r,String(s)],o=typeof a.id=="string"?a.id:i.join("-");if(se(a.index!==!0||!a.children,"Cannot specify children on an index route"),se(!n[o],`Found a route id collision on id "${o}".  Route id's must be globally unique within Data Router usages`),$o(a)){let l={...a,...t(a),id:o};return n[o]=l,l}else{let l={...a,...t(a),id:o,children:void 0};return n[o]=l,a.children&&(l.children=Cn(a.children,t,i,n)),l}})}function St(e,t,r="/"){return gn(e,t,r,!1)}function gn(e,t,r,n){let a=typeof t=="string"?Nt(t):t,s=et(a.pathname||"/",r);if(s==null)return null;let i=ii(e);Ho(i);let o=null;for(let l=0;o==null&&l<i.length;++l){let u=el(s);o=Xo(i[l],u,n)}return o}function Bo(e,t){let{route:r,pathname:n,params:a}=e;return{id:r.id,pathname:n,params:a,data:t[r.id],handle:r.handle}}function ii(e,t=[],r=[],n=""){let a=(s,i,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};l.relativePath.startsWith("/")&&(se(l.relativePath.startsWith(n),`Absolute route path "${l.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(n.length));let u=ct([n,l.relativePath]),m=r.concat(l);s.children&&s.children.length>0&&(se(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),ii(s.children,t,m,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:Yo(u,s.index),routesMeta:m})};return e.forEach((s,i)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))a(s,i);else for(let l of oi(s.path))a(s,i,l)}),t}function oi(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let i=oi(n.join("/")),o=[];return o.push(...i.map(l=>l===""?s:[s,l].join("/"))),a&&o.push(...i),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function Ho(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Jo(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Qo=/^:[\w-]+$/,zo=3,qo=2,Ko=1,Wo=10,Go=-2,as=e=>e==="*";function Yo(e,t){let r=e.split("/"),n=r.length;return r.some(as)&&(n+=Go),t&&(n+=qo),r.filter(a=>!as(a)).reduce((a,s)=>a+(Qo.test(s)?zo:s===""?Ko:Wo),n)}function Jo(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Xo(e,t,r=!1){let{routesMeta:n}=e,a={},s="/",i=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,m=s==="/"?t:t.slice(s.length)||"/",h=Dn({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},m),p=l.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=Dn({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},m)),!h)return null;Object.assign(a,h.params),i.push({params:a,pathname:ct([s,h.pathname]),pathnameBase:nl(ct([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=ct([s,h.pathnameBase]))}return i}function Dn(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Zo(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((u,{paramName:m,isOptional:h},p)=>{if(m==="*"){let g=o[p]||"";i=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const b=o[p];return h&&!b?u[m]=void 0:u[m]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:i,pattern:e}}function Zo(e,t=!1,r=!0){Pe(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function el(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Pe(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function et(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function tl(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Nt(e):e;return{pathname:r?r.startsWith("/")?r:rl(r,t):t,search:al(n),hash:sl(a)}}function rl(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function zn(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function li(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function xa(e){let t=li(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Ea(e,t,r,n=!1){let a;typeof e=="string"?a=Nt(e):(a={...e},se(!a.pathname||!a.pathname.includes("?"),zn("?","pathname","search",a)),se(!a.pathname||!a.pathname.includes("#"),zn("#","pathname","hash",a)),se(!a.search||!a.search.includes("#"),zn("#","search","hash",a)));let s=e===""||a.pathname==="",i=s?"/":a.pathname,o;if(i==null)o=r;else{let h=t.length-1;if(!n&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),h-=1;a.pathname=p.join("/")}o=h>=0?t[h]:"/"}let l=tl(a,o),u=i&&i!=="/"&&i.endsWith("/"),m=(s||i===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||m)&&(l.pathname+="/"),l}var ct=e=>e.join("/").replace(/\/\/+/g,"/"),nl=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),al=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,sl=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Pn=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function On(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var ui=["POST","PUT","PATCH","DELETE"],il=new Set(ui),ol=["GET",...ui],ll=new Set(ol),ul=new Set([301,302,303,307,308]),cl=new Set([307,308]),qn={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},dl={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Mr={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Ra=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fl=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),ci="remix-router-transitions",di=Symbol("ResetLoaderData");function hl(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";se(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=e.mapRouteProperties||fl,a={},s=Cn(e.routes,n,void 0,a),i,o=e.basename||"/",l=e.dataStrategy||vl,u=e.patchRoutesOnNavigation,m={...e.future},h=null,p=new Set,b=null,g=null,R=null,C=e.hydrationData!=null,x=St(s,e.history.location,o),P=null;if(x==null&&!u){let f=Ke(404,{pathname:e.history.location.pathname}),{matches:v,route:S}=ys(s);x=v,P={[S.id]:f}}x&&!e.hydrationData&&rn(x,s,e.history.location.pathname).active&&(x=null);let T;if(x)if(x.some(f=>f.route.lazy))T=!1;else if(!x.some(f=>f.route.loader))T=!0;else{let f=e.hydrationData?e.hydrationData.loaderData:null,v=e.hydrationData?e.hydrationData.errors:null;if(v){let S=x.findIndex(F=>v[F.route.id]!==void 0);T=x.slice(0,S+1).every(F=>!ma(F.route,f,v))}else T=x.every(S=>!ma(S.route,f,v))}else{T=!1,x=[];let f=rn(null,s,e.history.location.pathname);f.active&&f.matches&&(x=f.matches)}let $,y={historyAction:e.history.action,location:e.history.location,matches:x,initialized:T,navigation:qn,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||P,fetchers:new Map,blockers:new Map},B="POP",K=!1,j,V=!1,X=new Map,de=null,W=!1,te=!1,fe=new Set,ne=new Map,Fe=0,Re=-1,$e=new Map,Me=new Set,Be=new Map,wt=new Map,Ue=new Set,ft=new Map,jt,ht=null;function Er(){if(h=e.history.listen(({action:f,location:v,delta:S})=>{if(jt){jt(),jt=void 0;return}Pe(ft.size===0||S!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let F=Ua({currentLocation:y.location,nextLocation:v,historyAction:f});if(F&&S!=null){let I=new Promise(z=>{jt=z});e.history.go(S*-1),tn(F,{state:"blocked",location:v,proceed(){tn(F,{state:"proceeding",proceed:void 0,reset:void 0,location:v}),I.then(()=>e.history.go(S))},reset(){let z=new Map(y.blockers);z.set(F,Mr),Se({blockers:z})}});return}return rt(f,v)}),r){Ll(t,X);let f=()=>Tl(t,X);t.addEventListener("pagehide",f),de=()=>t.removeEventListener("pagehide",f)}return y.initialized||rt("POP",y.location,{initialHydration:!0}),$}function Xr(){h&&h(),de&&de(),p.clear(),j&&j.abort(),y.fetchers.forEach((f,v)=>He(v)),y.blockers.forEach((f,v)=>Dr(v))}function Rr(f){return p.add(f),()=>p.delete(f)}function Se(f,v={}){y={...y,...f};let S=[],F=[];y.fetchers.forEach((I,z)=>{I.state==="idle"&&(Ue.has(z)?S.push(z):F.push(z))}),Ue.forEach(I=>{!y.fetchers.has(I)&&!ne.has(I)&&S.push(I)}),[...p].forEach(I=>I(y,{deletedFetchers:S,viewTransitionOpts:v.viewTransitionOpts,flushSync:v.flushSync===!0})),S.forEach(I=>He(I)),F.forEach(I=>y.fetchers.delete(I))}function xt(f,v,{flushSync:S}={}){var k,J;let F=y.actionData!=null&&y.navigation.formMethod!=null&&Je(y.navigation.formMethod)&&y.navigation.state==="loading"&&((k=f.state)==null?void 0:k._isRedirect)!==!0,I;v.actionData?Object.keys(v.actionData).length>0?I=v.actionData:I=null:F?I=y.actionData:I=null;let z=v.loaderData?hs(y.loaderData,v.loaderData,v.matches||[],v.errors):y.loaderData,Y=y.blockers;Y.size>0&&(Y=new Map(Y),Y.forEach((re,he)=>Y.set(he,Mr)));let U=K===!0||y.navigation.formMethod!=null&&Je(y.navigation.formMethod)&&((J=f.state)==null?void 0:J._isRedirect)!==!0;i&&(s=i,i=void 0),W||B==="POP"||(B==="PUSH"?e.history.push(f,f.state):B==="REPLACE"&&e.history.replace(f,f.state));let H;if(B==="POP"){let re=X.get(y.location.pathname);re&&re.has(f.pathname)?H={currentLocation:y.location,nextLocation:f}:X.has(f.pathname)&&(H={currentLocation:f,nextLocation:y.location})}else if(V){let re=X.get(y.location.pathname);re?re.add(f.pathname):(re=new Set([f.pathname]),X.set(y.location.pathname,re)),H={currentLocation:y.location,nextLocation:f}}Se({...v,actionData:I,loaderData:z,historyAction:B,location:f,initialized:!0,navigation:qn,revalidation:"idle",restoreScrollPosition:$a(f,v.matches||y.matches),preventScrollReset:U,blockers:Y},{viewTransitionOpts:H,flushSync:S===!0}),B="POP",K=!1,V=!1,W=!1,te=!1,ht==null||ht.resolve(),ht=null}async function Sr(f,v){if(typeof f=="number"){e.history.go(f);return}let S=ha(y.location,y.matches,o,f,v==null?void 0:v.fromRouteId,v==null?void 0:v.relative),{path:F,submission:I,error:z}=ss(!1,S,v),Y=y.location,U=Br(y.location,F,v&&v.state);U={...U,...e.history.encodeLocation(U)};let H=v&&v.replace!=null?v.replace:void 0,k="PUSH";H===!0?k="REPLACE":H===!1||I!=null&&Je(I.formMethod)&&I.formAction===y.location.pathname+y.location.search&&(k="REPLACE");let J=v&&"preventScrollReset"in v?v.preventScrollReset===!0:void 0,re=(v&&v.flushSync)===!0,he=Ua({currentLocation:Y,nextLocation:U,historyAction:k});if(he){tn(he,{state:"blocked",location:U,proceed(){tn(he,{state:"proceeding",proceed:void 0,reset:void 0,location:U}),Sr(f,v)},reset(){let Ce=new Map(y.blockers);Ce.set(he,Mr),Se({blockers:Ce})}});return}await rt(k,U,{submission:I,pendingError:z,preventScrollReset:J,replace:v&&v.replace,enableViewTransition:v&&v.viewTransition,flushSync:re})}function Nn(){ht||(ht=Ml()),Q(),Se({revalidation:"loading"});let f=ht.promise;return y.navigation.state==="submitting"?f:y.navigation.state==="idle"?(rt(y.historyAction,y.location,{startUninterruptedRevalidation:!0}),f):(rt(B||y.historyAction,y.navigation.location,{overrideNavigation:y.navigation,enableViewTransition:V===!0}),f)}async function rt(f,v,S){j&&j.abort(),j=null,B=f,W=(S&&S.startUninterruptedRevalidation)===!0,Wi(y.location,y.matches),K=(S&&S.preventScrollReset)===!0,V=(S&&S.enableViewTransition)===!0;let F=i||s,I=S&&S.overrideNavigation,z=St(F,v,o),Y=(S&&S.flushSync)===!0,U=rn(z,F,v.pathname);if(U.active&&U.matches&&(z=U.matches),!z){let{error:me,notFoundMatches:ce,route:we}=Vn(v.pathname);xt(v,{matches:ce,loaderData:{},errors:{[we.id]:me}},{flushSync:Y});return}if(y.initialized&&!te&&Sl(y.location,v)&&!(S&&S.submission&&Je(S.submission.formMethod))){xt(v,{matches:z},{flushSync:Y});return}j=new AbortController;let H=nr(e.history,v,j.signal,S&&S.submission),k;if(S&&S.pendingError)k=[Ut(z).route.id,{type:"error",error:S.pendingError}];else if(S&&S.submission&&Je(S.submission.formMethod)){let me=await Zr(H,v,S.submission,z,U.active,{replace:S.replace,flushSync:Y});if(me.shortCircuited)return;if(me.pendingActionResult){let[ce,we]=me.pendingActionResult;if(Ve(we)&&On(we.error)&&we.error.status===404){j=null,xt(v,{matches:me.matches,loaderData:{},errors:{[ce]:we.error}});return}}z=me.matches||z,k=me.pendingActionResult,I=Kn(v,S.submission),Y=!1,U.active=!1,H=nr(e.history,H.url,H.signal)}let{shortCircuited:J,matches:re,loaderData:he,errors:Ce}=await ja(H,v,z,U.active,I,S&&S.submission,S&&S.fetcherSubmission,S&&S.replace,S&&S.initialHydration===!0,Y,k);J||(j=null,xt(v,{matches:re||z,...ms(k),loaderData:he,errors:Ce}))}async function Zr(f,v,S,F,I,z={}){Q();let Y=Pl(v,S);if(Se({navigation:Y},{flushSync:z.flushSync===!0}),I){let k=await nn(F,v.pathname,f.signal);if(k.type==="aborted")return{shortCircuited:!0};if(k.type==="error"){let J=Ut(k.partialMatches).route.id;return{matches:k.partialMatches,pendingActionResult:[J,{type:"error",error:k.error}]}}else if(k.matches)F=k.matches;else{let{notFoundMatches:J,error:re,route:he}=Vn(v.pathname);return{matches:J,pendingActionResult:[he.id,{type:"error",error:re}]}}}let U,H=Ir(F,v);if(!H.route.action&&!H.route.lazy)U={type:"error",error:Ke(405,{method:f.method,pathname:v.pathname,routeId:H.route.id})};else if(U=(await M("action",y,f,[H],F,null))[H.route.id],f.signal.aborted)return{shortCircuited:!0};if(Vt(U)){let k;return z&&z.replace!=null?k=z.replace:k=cs(U.response.headers.get("Location"),new URL(f.url),o)===y.location.pathname+y.location.search,await _(f,U,!0,{submission:S,replace:k}),{shortCircuited:!0}}if(Ve(U)){let k=Ut(F,H.route.id);return(z&&z.replace)!==!0&&(B="PUSH"),{matches:F,pendingActionResult:[k.route.id,U]}}return{matches:F,pendingActionResult:[H.route.id,U]}}async function ja(f,v,S,F,I,z,Y,U,H,k,J){let re=I||Kn(v,z),he=z||Y||gs(re),Ce=!W&&!H;if(F){if(Ce){let Le=jn(J);Se({navigation:re,...Le!==void 0?{actionData:Le}:{}},{flushSync:k})}let ue=await nn(S,v.pathname,f.signal);if(ue.type==="aborted")return{shortCircuited:!0};if(ue.type==="error"){let Le=Ut(ue.partialMatches).route.id;return{matches:ue.partialMatches,loaderData:{},errors:{[Le]:ue.error}}}else if(ue.matches)S=ue.matches;else{let{error:Le,notFoundMatches:on,route:Lr}=Vn(v.pathname);return{matches:on,loaderData:{},errors:{[Lr.id]:Le}}}}let me=i||s,[ce,we]=os(e.history,y,S,he,v,H===!0,te,fe,Ue,Be,Me,me,o,J);if(Re=++Fe,ce.length===0&&we.length===0){let ue=en();return xt(v,{matches:S,loaderData:{},errors:J&&Ve(J[1])?{[J[0]]:J[1].error}:null,...ms(J),...ue?{fetchers:new Map(y.fetchers)}:{}},{flushSync:k}),{shortCircuited:!0}}if(Ce){let ue={};if(!F){ue.navigation=re;let Le=jn(J);Le!==void 0&&(ue.actionData=Le)}we.length>0&&(ue.fetchers=Ia(we)),Se(ue,{flushSync:k})}we.forEach(ue=>{Qe(ue.key),ue.controller&&ne.set(ue.key,ue.controller)});let tr=()=>we.forEach(ue=>Qe(ue.key));j&&j.signal.addEventListener("abort",tr);let{loaderResults:Pr,fetcherResults:mt}=await L(y,S,ce,we,f);if(f.signal.aborted)return{shortCircuited:!0};j&&j.signal.removeEventListener("abort",tr),we.forEach(ue=>ne.delete(ue.key));let nt=dn(Pr);if(nt)return await _(f,nt.result,!0,{replace:U}),{shortCircuited:!0};if(nt=dn(mt),nt)return Me.add(nt.key),await _(f,nt.result,!0,{replace:U}),{shortCircuited:!0};let{loaderData:$n,errors:Fr}=fs(y,S,Pr,J,we,mt);H&&y.errors&&(Fr={...y.errors,...Fr});let It=en(),an=Cr(Re),sn=It||an||we.length>0;return{matches:S,loaderData:$n,errors:Fr,...sn?{fetchers:new Map(y.fetchers)}:{}}}function jn(f){if(f&&!Ve(f[1]))return{[f[0]]:f[1].data};if(y.actionData)return Object.keys(y.actionData).length===0?null:y.actionData}function Ia(f){return f.forEach(v=>{let S=y.fetchers.get(v.key),F=Or(void 0,S?S.data:void 0);y.fetchers.set(v.key,F)}),new Map(y.fetchers)}async function d(f,v,S,F){Qe(f);let I=(F&&F.flushSync)===!0,z=i||s,Y=ha(y.location,y.matches,o,S,v,F==null?void 0:F.relative),U=St(z,Y,o),H=rn(U,z,Y);if(H.active&&H.matches&&(U=H.matches),!U){le(f,v,Ke(404,{pathname:Y}),{flushSync:I});return}let{path:k,submission:J,error:re}=ss(!0,Y,F);if(re){le(f,v,re,{flushSync:I});return}let he=Ir(U,k),Ce=(F&&F.preventScrollReset)===!0;if(J&&Je(J.formMethod)){await E(f,v,k,he,U,H.active,I,Ce,J);return}Be.set(f,{routeId:v,path:k}),await D(f,v,k,he,U,H.active,I,Ce,J)}async function E(f,v,S,F,I,z,Y,U,H){Q(),Be.delete(f);function k(be){if(!be.route.action&&!be.route.lazy){let rr=Ke(405,{method:H.formMethod,pathname:S,routeId:v});return le(f,v,rr,{flushSync:Y}),!0}return!1}if(!z&&k(F))return;let J=y.fetchers.get(f);G(f,Fl(H,J),{flushSync:Y});let re=new AbortController,he=nr(e.history,S,re.signal,H);if(z){let be=await nn(I,S,he.signal);if(be.type==="aborted")return;if(be.type==="error"){le(f,v,be.error,{flushSync:Y});return}else if(be.matches){if(I=be.matches,F=Ir(I,S),k(F))return}else{le(f,v,Ke(404,{pathname:S}),{flushSync:Y});return}}ne.set(f,re);let Ce=Fe,ce=(await M("action",y,he,[F],I,f))[F.route.id];if(he.signal.aborted){ne.get(f)===re&&ne.delete(f);return}if(Ue.has(f)){if(Vt(ce)||Ve(ce)){G(f,Rt(void 0));return}}else{if(Vt(ce))if(ne.delete(f),Re>Ce){G(f,Rt(void 0));return}else return Me.add(f),G(f,Or(H)),_(he,ce,!1,{fetcherSubmission:H,preventScrollReset:U});if(Ve(ce)){le(f,v,ce.error);return}}let we=y.navigation.location||y.location,tr=nr(e.history,we,re.signal),Pr=i||s,mt=y.navigation.state!=="idle"?St(Pr,y.navigation.location,o):y.matches;se(mt,"Didn't find any matches after fetcher action");let nt=++Fe;$e.set(f,nt);let $n=Or(H,ce.data);y.fetchers.set(f,$n);let[Fr,It]=os(e.history,y,mt,H,we,!1,te,fe,Ue,Be,Me,Pr,o,[F.route.id,ce]);It.filter(be=>be.key!==f).forEach(be=>{let rr=be.key,Ba=y.fetchers.get(rr),Ji=Or(void 0,Ba?Ba.data:void 0);y.fetchers.set(rr,Ji),Qe(rr),be.controller&&ne.set(rr,be.controller)}),Se({fetchers:new Map(y.fetchers)});let an=()=>It.forEach(be=>Qe(be.key));re.signal.addEventListener("abort",an);let{loaderResults:sn,fetcherResults:ue}=await L(y,mt,Fr,It,tr);if(re.signal.aborted)return;re.signal.removeEventListener("abort",an),$e.delete(f),ne.delete(f),It.forEach(be=>ne.delete(be.key));let Le=dn(sn);if(Le)return _(tr,Le.result,!1,{preventScrollReset:U});if(Le=dn(ue),Le)return Me.add(Le.key),_(tr,Le.result,!1,{preventScrollReset:U});let{loaderData:on,errors:Lr}=fs(y,mt,sn,void 0,It,ue);if(y.fetchers.has(f)){let be=Rt(ce.data);y.fetchers.set(f,be)}Cr(nt),y.navigation.state==="loading"&&nt>Re?(se(B,"Expected pending action"),j&&j.abort(),xt(y.navigation.location,{matches:mt,loaderData:on,errors:Lr,fetchers:new Map(y.fetchers)})):(Se({errors:Lr,loaderData:hs(y.loaderData,on,mt,Lr),fetchers:new Map(y.fetchers)}),te=!1)}async function D(f,v,S,F,I,z,Y,U,H){let k=y.fetchers.get(f);G(f,Or(H,k?k.data:void 0),{flushSync:Y});let J=new AbortController,re=nr(e.history,S,J.signal);if(z){let ce=await nn(I,S,re.signal);if(ce.type==="aborted")return;if(ce.type==="error"){le(f,v,ce.error,{flushSync:Y});return}else if(ce.matches)I=ce.matches,F=Ir(I,S);else{le(f,v,Ke(404,{pathname:S}),{flushSync:Y});return}}ne.set(f,J);let he=Fe,me=(await M("loader",y,re,[F],I,f))[F.route.id];if(ne.get(f)===J&&ne.delete(f),!re.signal.aborted){if(Ue.has(f)){G(f,Rt(void 0));return}if(Vt(me))if(Re>he){G(f,Rt(void 0));return}else{Me.add(f),await _(re,me,!1,{preventScrollReset:U});return}if(Ve(me)){le(f,v,me.error);return}G(f,Rt(me.data))}}async function _(f,v,S,{submission:F,fetcherSubmission:I,preventScrollReset:z,replace:Y}={}){v.response.headers.has("X-Remix-Revalidate")&&(te=!0);let U=v.response.headers.get("Location");se(U,"Expected a Location header on the redirect Response"),U=cs(U,new URL(f.url),o);let H=Br(y.location,U,{_isRedirect:!0});if(r){let me=!1;if(v.response.headers.has("X-Remix-Reload-Document"))me=!0;else if(Ra.test(U)){const ce=e.history.createURL(U);me=ce.origin!==t.location.origin||et(ce.pathname,o)==null}if(me){Y?t.location.replace(U):t.location.assign(U);return}}j=null;let k=Y===!0||v.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:J,formAction:re,formEncType:he}=y.navigation;!F&&!I&&J&&re&&he&&(F=gs(y.navigation));let Ce=F||I;if(cl.has(v.response.status)&&Ce&&Je(Ce.formMethod))await rt(k,H,{submission:{...Ce,formAction:U},preventScrollReset:z||K,enableViewTransition:S?V:void 0});else{let me=Kn(H,F);await rt(k,H,{overrideNavigation:me,fetcherSubmission:I,preventScrollReset:z||K,enableViewTransition:S?V:void 0})}}async function M(f,v,S,F,I,z){let Y,U={};try{Y=await bl(l,f,v,S,F,I,z,a,n)}catch(H){return F.forEach(k=>{U[k.route.id]={type:"error",error:H}}),U}for(let[H,k]of Object.entries(Y))if(Cl(k)){let J=k.result;U[H]={type:"redirect",response:El(J,S,H,I,o)}}else U[H]=await xl(k);return U}async function L(f,v,S,F,I){let z=M("loader",f,I,S,v,null),Y=Promise.all(F.map(async k=>{if(k.matches&&k.match&&k.controller){let re=(await M("loader",f,nr(e.history,k.path,k.controller.signal),[k.match],k.matches,k.key))[k.match.route.id];return{[k.key]:re}}else return Promise.resolve({[k.key]:{type:"error",error:Ke(404,{pathname:k.path})}})})),U=await z,H=(await Y).reduce((k,J)=>Object.assign(k,J),{});return{loaderResults:U,fetcherResults:H}}function Q(){te=!0,Be.forEach((f,v)=>{ne.has(v)&&fe.add(v),Qe(v)})}function G(f,v,S={}){y.fetchers.set(f,v),Se({fetchers:new Map(y.fetchers)},{flushSync:(S&&S.flushSync)===!0})}function le(f,v,S,F={}){let I=Ut(y.matches,v);He(f),Se({errors:{[I.route.id]:S},fetchers:new Map(y.fetchers)},{flushSync:(F&&F.flushSync)===!0})}function pe(f){return wt.set(f,(wt.get(f)||0)+1),Ue.has(f)&&Ue.delete(f),y.fetchers.get(f)||dl}function He(f){let v=y.fetchers.get(f);ne.has(f)&&!(v&&v.state==="loading"&&$e.has(f))&&Qe(f),Be.delete(f),$e.delete(f),Me.delete(f),Ue.delete(f),fe.delete(f),y.fetchers.delete(f)}function In(f){let v=(wt.get(f)||0)-1;v<=0?(wt.delete(f),Ue.add(f)):wt.set(f,v),Se({fetchers:new Map(y.fetchers)})}function Qe(f){let v=ne.get(f);v&&(v.abort(),ne.delete(f))}function er(f){for(let v of f){let S=pe(v),F=Rt(S.data);y.fetchers.set(v,F)}}function en(){let f=[],v=!1;for(let S of Me){let F=y.fetchers.get(S);se(F,`Expected fetcher: ${S}`),F.state==="loading"&&(Me.delete(S),f.push(S),v=!0)}return er(f),v}function Cr(f){let v=[];for(let[S,F]of $e)if(F<f){let I=y.fetchers.get(S);se(I,`Expected fetcher: ${S}`),I.state==="loading"&&(Qe(S),$e.delete(S),v.push(S))}return er(v),v.length>0}function Un(f,v){let S=y.blockers.get(f)||Mr;return ft.get(f)!==v&&ft.set(f,v),S}function Dr(f){y.blockers.delete(f),ft.delete(f)}function tn(f,v){let S=y.blockers.get(f)||Mr;se(S.state==="unblocked"&&v.state==="blocked"||S.state==="blocked"&&v.state==="blocked"||S.state==="blocked"&&v.state==="proceeding"||S.state==="blocked"&&v.state==="unblocked"||S.state==="proceeding"&&v.state==="unblocked",`Invalid blocker state transition: ${S.state} -> ${v.state}`);let F=new Map(y.blockers);F.set(f,v),Se({blockers:F})}function Ua({currentLocation:f,nextLocation:v,historyAction:S}){if(ft.size===0)return;ft.size>1&&Pe(!1,"A router only supports one blocker at a time");let F=Array.from(ft.entries()),[I,z]=F[F.length-1],Y=y.blockers.get(I);if(!(Y&&Y.state==="proceeding")&&z({currentLocation:f,nextLocation:v,historyAction:S}))return I}function Vn(f){let v=Ke(404,{pathname:f}),S=i||s,{matches:F,route:I}=ys(S);return{notFoundMatches:F,route:I,error:v}}function Ki(f,v,S){if(b=f,R=v,g=S||null,!C&&y.navigation===qn){C=!0;let F=$a(y.location,y.matches);F!=null&&Se({restoreScrollPosition:F})}return()=>{b=null,R=null,g=null}}function Va(f,v){return g&&g(f,v.map(F=>Bo(F,y.loaderData)))||f.key}function Wi(f,v){if(b&&R){let S=Va(f,v);b[S]=R()}}function $a(f,v){if(b){let S=Va(f,v),F=b[S];if(typeof F=="number")return F}return null}function rn(f,v,S){if(u)if(f){if(Object.keys(f[0].params).length>0)return{active:!0,matches:gn(v,S,o,!0)}}else return{active:!0,matches:gn(v,S,o,!0)||[]};return{active:!1,matches:null}}async function nn(f,v,S){if(!u)return{type:"success",matches:f};let F=f;for(;;){let I=i==null,z=i||s,Y=a;try{await u({path:v,matches:F,patch:(k,J)=>{S.aborted||us(k,J,z,Y,n)}})}catch(k){return{type:"error",error:k,partialMatches:F}}finally{I&&!S.aborted&&(s=[...s])}if(S.aborted)return{type:"aborted"};let U=St(z,v,o);if(U)return{type:"success",matches:U};let H=gn(z,v,o,!0);if(!H||F.length===H.length&&F.every((k,J)=>k.route.id===H[J].route.id))return{type:"success",matches:null};F=H}}function Gi(f){a={},i=Cn(f,n,void 0,a)}function Yi(f,v){let S=i==null;us(f,v,i||s,a,n),S&&(s=[...s],Se({}))}return $={get basename(){return o},get future(){return m},get state(){return y},get routes(){return s},get window(){return t},initialize:Er,subscribe:Rr,enableScrollRestoration:Ki,navigate:Sr,fetch:d,revalidate:Nn,createHref:f=>e.history.createHref(f),encodeLocation:f=>e.history.encodeLocation(f),getFetcher:pe,deleteFetcher:In,dispose:Xr,getBlocker:Un,deleteBlocker:Dr,patchRoutes:Yi,_internalFetchControllers:ne,_internalSetRoutes:Gi},$}function ml(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function ha(e,t,r,n,a,s){let i,o;if(a){i=[];for(let u of t)if(i.push(u),u.route.id===a){o=u;break}}else i=t,o=t[t.length-1];let l=Ea(n||".",xa(i),et(e.pathname,r)||e.pathname,s==="path");if(n==null&&(l.search=e.search,l.hash=e.hash),(n==null||n===""||n===".")&&o){let u=Sa(l.search);if(o.route.index&&!u)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!o.route.index&&u){let m=new URLSearchParams(l.search),h=m.getAll("index");m.delete("index"),h.filter(b=>b).forEach(b=>m.append("index",b));let p=m.toString();l.search=p?`?${p}`:""}}return r!=="/"&&(l.pathname=l.pathname==="/"?r:ct([r,l.pathname])),kt(l)}function ss(e,t,r){if(!r||!ml(r))return{path:t};if(r.formMethod&&!Dl(r.formMethod))return{path:t,error:Ke(405,{method:r.formMethod})};let n=()=>({path:t,error:Ke(400,{type:"invalid-body"})}),s=(r.formMethod||"get").toUpperCase(),i=hi(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Je(s))return n();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,[b,g])=>`${p}${b}=${g}
`,""):String(r.body);return{path:t,submission:{formMethod:s,formAction:i,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!Je(s))return n();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:s,formAction:i,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return n()}}}se(typeof FormData=="function","FormData is not available in this environment");let o,l;if(r.formData)o=ya(r.formData),l=r.formData;else if(r.body instanceof FormData)o=ya(r.body),l=r.body;else if(r.body instanceof URLSearchParams)o=r.body,l=ds(o);else if(r.body==null)o=new URLSearchParams,l=new FormData;else try{o=new URLSearchParams(r.body),l=ds(o)}catch{return n()}let u={formMethod:s,formAction:i,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(Je(u.formMethod))return{path:t,submission:u};let m=Nt(t);return e&&m.search&&Sa(m.search)&&o.append("index",""),m.search=`?${o}`,{path:kt(m),submission:u}}function is(e,t,r=!1){let n=e.findIndex(a=>a.route.id===t);return n>=0?e.slice(0,r?n+1:n):e}function os(e,t,r,n,a,s,i,o,l,u,m,h,p,b){let g=b?Ve(b[1])?b[1].error:b[1].data:void 0,R=e.createURL(t.location),C=e.createURL(a),x=r;s&&t.errors?x=is(r,Object.keys(t.errors)[0],!0):b&&Ve(b[1])&&(x=is(r,b[0]));let P=b?b[1].statusCode:void 0,T=P&&P>=400,$=x.filter((B,K)=>{let{route:j}=B;if(j.lazy)return!0;if(j.loader==null)return!1;if(s)return ma(j,t.loaderData,t.errors);if(yl(t.loaderData,t.matches[K],B))return!0;let V=t.matches[K],X=B;return ls(B,{currentUrl:R,currentParams:V.params,nextUrl:C,nextParams:X.params,...n,actionResult:g,actionStatus:P,defaultShouldRevalidate:T?!1:i||R.pathname+R.search===C.pathname+C.search||R.search!==C.search||pl(V,X)})}),y=[];return u.forEach((B,K)=>{if(s||!r.some(W=>W.route.id===B.routeId)||l.has(K))return;let j=St(h,B.path,p);if(!j){y.push({key:K,routeId:B.routeId,path:B.path,matches:null,match:null,controller:null});return}let V=t.fetchers.get(K),X=Ir(j,B.path),de=!1;m.has(K)?de=!1:o.has(K)?(o.delete(K),de=!0):V&&V.state!=="idle"&&V.data===void 0?de=i:de=ls(X,{currentUrl:R,currentParams:t.matches[t.matches.length-1].params,nextUrl:C,nextParams:r[r.length-1].params,...n,actionResult:g,actionStatus:P,defaultShouldRevalidate:T?!1:i}),de&&y.push({key:K,routeId:B.routeId,path:B.path,matches:j,match:X,controller:new AbortController})}),[$,y]}function ma(e,t,r){if(e.lazy)return!0;if(!e.loader)return!1;let n=t!=null&&t[e.id]!==void 0,a=r!=null&&r[e.id]!==void 0;return!n&&a?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!n&&!a}function yl(e,t,r){let n=!t||r.route.id!==t.route.id,a=!e.hasOwnProperty(r.route.id);return n||a}function pl(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function ls(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function us(e,t,r,n,a){let s;if(e){let l=n[e];se(l,`No route found to patch children into: routeId = ${e}`),l.children||(l.children=[]),s=l.children}else s=r;let i=t.filter(l=>!s.some(u=>fi(l,u))),o=Cn(i,a,[e||"_","patch",String((s==null?void 0:s.length)||"0")],n);s.push(...o)}function fi(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,n)=>{var a;return(a=t.children)==null?void 0:a.some(s=>fi(r,s))}):!1}async function gl(e,t,r){if(!e.lazy)return;let n=await e.lazy();if(!e.lazy)return;let a=r[e.id];se(a,"No route found in manifest");let s={};for(let i in n){let l=a[i]!==void 0&&i!=="hasErrorBoundary";Pe(!l,`Route "${a.id}" has a static property "${i}" defined but its lazy function is also returning a value for this property. The lazy route property "${i}" will be ignored.`),!l&&!Vo.has(i)&&(s[i]=n[i])}Object.assign(a,s),Object.assign(a,{...t(a),lazy:void 0})}async function vl({matches:e}){let t=e.filter(n=>n.shouldLoad);return(await Promise.all(t.map(n=>n.resolve()))).reduce((n,a,s)=>Object.assign(n,{[t[s].route.id]:a}),{})}async function bl(e,t,r,n,a,s,i,o,l,u){let m=s.map(b=>b.route.lazy?gl(b.route,l,o):void 0),h=s.map((b,g)=>{let R=m[g],C=a.some(P=>P.route.id===b.route.id);return{...b,shouldLoad:C,resolve:async P=>(P&&n.method==="GET"&&(b.route.lazy||b.route.loader)&&(C=!0),C?wl(t,n,b,R,P,u):Promise.resolve({type:"data",result:void 0}))}}),p=await e({matches:h,request:n,params:s[0].params,fetcherKey:i,context:u});try{await Promise.all(m)}catch{}return p}async function wl(e,t,r,n,a,s){let i,o,l=u=>{let m,h=new Promise((g,R)=>m=R);o=()=>m(),t.signal.addEventListener("abort",o);let p=g=>typeof u!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${e}" [routeId: ${r.route.id}]`)):u({request:t,params:r.params,context:s},...g!==void 0?[g]:[]),b=(async()=>{try{return{type:"data",result:await(a?a(R=>p(R)):p())}}catch(g){return{type:"error",result:g}}})();return Promise.race([b,h])};try{let u=r.route[e];if(n)if(u){let m,[h]=await Promise.all([l(u).catch(p=>{m=p}),n]);if(m!==void 0)throw m;i=h}else if(await n,u=r.route[e],u)i=await l(u);else if(e==="action"){let m=new URL(t.url),h=m.pathname+m.search;throw Ke(405,{method:t.method,pathname:h,routeId:r.route.id})}else return{type:"data",result:void 0};else if(u)i=await l(u);else{let m=new URL(t.url),h=m.pathname+m.search;throw Ke(404,{pathname:h})}}catch(u){return{type:"error",result:u}}finally{o&&t.signal.removeEventListener("abort",o)}return i}async function xl(e){var n,a,s,i;let{result:t,type:r}=e;if(mi(t)){let o;try{let l=t.headers.get("Content-Type");l&&/\bapplication\/json\b/.test(l)?t.body==null?o=null:o=await t.json():o=await t.text()}catch(l){return{type:"error",error:l}}return r==="error"?{type:"error",error:new Pn(t.status,t.statusText,o),statusCode:t.status,headers:t.headers}:{type:"data",data:o,statusCode:t.status,headers:t.headers}}if(r==="error"){if(ps(t)){if(t.data instanceof Error)return{type:"error",error:t.data,statusCode:(n=t.init)==null?void 0:n.status};t=new Pn(((a=t.init)==null?void 0:a.status)||500,void 0,t.data)}return{type:"error",error:t,statusCode:On(t)?t.status:void 0}}return ps(t)?{type:"data",data:t.data,statusCode:(s=t.init)==null?void 0:s.status,headers:(i=t.init)!=null&&i.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function El(e,t,r,n,a){let s=e.headers.get("Location");if(se(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ra.test(s)){let i=n.slice(0,n.findIndex(o=>o.route.id===r)+1);s=ha(new URL(t.url),i,a,s),e.headers.set("Location",s)}return e}function cs(e,t,r){if(Ra.test(e)){let n=e,a=n.startsWith("//")?new URL(t.protocol+n):new URL(n),s=et(a.pathname,r)!=null;if(a.origin===t.origin&&s)return a.pathname+a.search+a.hash}return e}function nr(e,t,r,n){let a=e.createURL(hi(t)).toString(),s={signal:r};if(n&&Je(n.formMethod)){let{formMethod:i,formEncType:o}=n;s.method=i.toUpperCase(),o==="application/json"?(s.headers=new Headers({"Content-Type":o}),s.body=JSON.stringify(n.json)):o==="text/plain"?s.body=n.text:o==="application/x-www-form-urlencoded"&&n.formData?s.body=ya(n.formData):s.body=n.formData}return new Request(a,s)}function ya(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,typeof n=="string"?n:n.name);return t}function ds(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function Rl(e,t,r,n=!1,a=!1){let s={},i=null,o,l=!1,u={},m=r&&Ve(r[1])?r[1].error:void 0;return e.forEach(h=>{if(!(h.route.id in t))return;let p=h.route.id,b=t[p];if(se(!Vt(b),"Cannot handle redirect results in processLoaderData"),Ve(b)){let g=b.error;if(m!==void 0&&(g=m,m=void 0),i=i||{},a)i[p]=g;else{let R=Ut(e,p);i[R.route.id]==null&&(i[R.route.id]=g)}n||(s[p]=di),l||(l=!0,o=On(b.error)?b.error.status:500),b.headers&&(u[p]=b.headers)}else s[p]=b.data,b.statusCode&&b.statusCode!==200&&!l&&(o=b.statusCode),b.headers&&(u[p]=b.headers)}),m!==void 0&&r&&(i={[r[0]]:m},s[r[0]]=void 0),{loaderData:s,errors:i,statusCode:o||200,loaderHeaders:u}}function fs(e,t,r,n,a,s){let{loaderData:i,errors:o}=Rl(t,r,n);return a.forEach(l=>{let{key:u,match:m,controller:h}=l,p=s[u];if(se(p,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(Ve(p)){let b=Ut(e.matches,m==null?void 0:m.route.id);o&&o[b.route.id]||(o={...o,[b.route.id]:p.error}),e.fetchers.delete(u)}else if(Vt(p))se(!1,"Unhandled fetcher revalidation redirect");else{let b=Rt(p.data);e.fetchers.set(u,b)}}),{loaderData:i,errors:o}}function hs(e,t,r,n){let a=Object.entries(t).filter(([,s])=>s!==di).reduce((s,[i,o])=>(s[i]=o,s),{});for(let s of r){let i=s.route.id;if(!t.hasOwnProperty(i)&&e.hasOwnProperty(i)&&s.route.loader&&(a[i]=e[i]),n&&n.hasOwnProperty(i))break}return a}function ms(e){return e?Ve(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Ut(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function ys(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Ke(e,{pathname:t,routeId:r,method:n,type:a,message:s}={}){let i="Unknown Server Error",o="Unknown @remix-run/router error";return e===400?(i="Bad Request",n&&t&&r?o=`You made a ${n} request to "${t}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:a==="invalid-body"&&(o="Unable to encode submission body")):e===403?(i="Forbidden",o=`Route "${r}" does not match URL "${t}"`):e===404?(i="Not Found",o=`No route matches URL "${t}"`):e===405&&(i="Method Not Allowed",n&&t&&r?o=`You made a ${n.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:n&&(o=`Invalid request method "${n.toUpperCase()}"`)),new Pn(e||500,i,new Error(o),!0)}function dn(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[n,a]=t[r];if(Vt(a))return{key:n,result:a}}}function hi(e){let t=typeof e=="string"?Nt(e):e;return kt({...t,hash:""})}function Sl(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Cl(e){return mi(e.result)&&ul.has(e.result.status)}function Ve(e){return e.type==="error"}function Vt(e){return(e&&e.type)==="redirect"}function ps(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function mi(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function Dl(e){return ll.has(e.toUpperCase())}function Je(e){return il.has(e.toUpperCase())}function Sa(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Ir(e,t){let r=typeof t=="string"?Nt(t).search:t.search;if(e[e.length-1].route.index&&Sa(r||""))return e[e.length-1];let n=li(e);return n[n.length-1]}function gs(e){let{formMethod:t,formAction:r,formEncType:n,text:a,formData:s,json:i}=e;if(!(!t||!r||!n)){if(a!=null)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:a};if(s!=null)return{formMethod:t,formAction:r,formEncType:n,formData:s,json:void 0,text:void 0};if(i!==void 0)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:i,text:void 0}}}function Kn(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Pl(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Or(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Fl(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Rt(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Ll(e,t){try{let r=e.sessionStorage.getItem(ci);if(r){let n=JSON.parse(r);for(let[a,s]of Object.entries(n||{}))s&&Array.isArray(s)&&t.set(a,new Set(s||[]))}}catch{}}function Tl(e,t){if(t.size>0){let r={};for(let[n,a]of t)r[n]=[...a];try{e.sessionStorage.setItem(ci,JSON.stringify(r))}catch(n){Pe(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function Ml(){let e,t,r=new Promise((n,a)=>{e=async s=>{n(s);try{await r}catch{}},t=async s=>{a(s);try{await r}catch{}}});return{promise:r,resolve:e,reject:t}}var Xt=w.createContext(null);Xt.displayName="DataRouter";var Wr=w.createContext(null);Wr.displayName="DataRouterState";var Ca=w.createContext({isTransitioning:!1});Ca.displayName="ViewTransition";var yi=w.createContext(new Map);yi.displayName="Fetchers";var Ol=w.createContext(null);Ol.displayName="Await";var dt=w.createContext(null);dt.displayName="Navigation";var An=w.createContext(null);An.displayName="Location";var tt=w.createContext({outlet:null,matches:[],isDataRoute:!1});tt.displayName="Route";var Da=w.createContext(null);Da.displayName="RouteError";function Al(e,{relative:t}={}){se(Gr(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=w.useContext(dt),{hash:a,pathname:s,search:i}=Yr(e,{relative:t}),o=s;return r!=="/"&&(o=s==="/"?r:ct([r,s])),n.createHref({pathname:o,search:i,hash:a})}function Gr(){return w.useContext(An)!=null}function Zt(){return se(Gr(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(An).location}var pi="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gi(e){w.useContext(dt).static||w.useLayoutEffect(e)}function vi(){let{isDataRoute:e}=w.useContext(tt);return e?Wl():_l()}function _l(){se(Gr(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext(Xt),{basename:t,navigator:r}=w.useContext(dt),{matches:n}=w.useContext(tt),{pathname:a}=Zt(),s=JSON.stringify(xa(n)),i=w.useRef(!1);return gi(()=>{i.current=!0}),w.useCallback((l,u={})=>{if(Pe(i.current,pi),!i.current)return;if(typeof l=="number"){r.go(l);return}let m=Ea(l,JSON.parse(s),a,u.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:ct([t,m.pathname])),(u.replace?r.replace:r.push)(m,u.state,u)},[t,r,s,a,e])}var kl=w.createContext(null);function Nl(e){let t=w.useContext(tt).outlet;return t&&w.createElement(kl.Provider,{value:e},t)}function bi(){let{matches:e}=w.useContext(tt),t=e[e.length-1];return t?t.params:{}}function Yr(e,{relative:t}={}){let{matches:r}=w.useContext(tt),{pathname:n}=Zt(),a=JSON.stringify(xa(r));return w.useMemo(()=>Ea(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function jl(e,t,r,n){se(Gr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=w.useContext(dt),{matches:s}=w.useContext(tt),i=s[s.length-1],o=i?i.params:{},l=i?i.pathname:"/",u=i?i.pathnameBase:"/",m=i&&i.route;{let x=m&&m.path||"";wi(l,!m||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let h=Zt(),p;p=h;let b=p.pathname||"/",g=b;if(u!=="/"){let x=u.replace(/^\//,"").split("/");g="/"+b.replace(/^\//,"").split("/").slice(x.length).join("/")}let R=St(e,{pathname:g});return Pe(m||R!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Pe(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Bl(R&&R.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:ct([u,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:ct([u,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,r,n)}function Il(){let e=Kl(),t=On(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:s},"ErrorBoundary")," or"," ",w.createElement("code",{style:s},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:a},r):null,i)}var Ul=w.createElement(Il,null),Vl=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?w.createElement(tt.Provider,{value:this.props.routeContext},w.createElement(Da.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $l({routeContext:e,match:t,children:r}){let n=w.useContext(Xt);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(tt.Provider,{value:e},r)}function Bl(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,s=r==null?void 0:r.errors;if(s!=null){let l=a.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);se(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,l+1))}let i=!1,o=-1;if(r)for(let l=0;l<a.length;l++){let u=a[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(o=l),u.route.id){let{loaderData:m,errors:h}=r,p=u.route.loader&&!m.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||p){i=!0,o>=0?a=a.slice(0,o+1):a=[a[0]];break}}}return a.reduceRight((l,u,m)=>{let h,p=!1,b=null,g=null;r&&(h=s&&u.route.id?s[u.route.id]:void 0,b=u.route.errorElement||Ul,i&&(o<0&&m===0?(wi("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,g=null):o===m&&(p=!0,g=u.route.hydrateFallbackElement||null)));let R=t.concat(a.slice(0,m+1)),C=()=>{let x;return h?x=b:p?x=g:u.route.Component?x=w.createElement(u.route.Component,null):u.route.element?x=u.route.element:x=l,w.createElement($l,{match:u,routeContext:{outlet:l,matches:R,isDataRoute:r!=null},children:x})};return r&&(u.route.ErrorBoundary||u.route.errorElement||m===0)?w.createElement(Vl,{location:r.location,revalidation:r.revalidation,component:b,error:h,children:C(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):C()},null)}function Pa(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hl(e){let t=w.useContext(Xt);return se(t,Pa(e)),t}function Ql(e){let t=w.useContext(Wr);return se(t,Pa(e)),t}function zl(e){let t=w.useContext(tt);return se(t,Pa(e)),t}function Fa(e){let t=zl(e),r=t.matches[t.matches.length-1];return se(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function ql(){return Fa("useRouteId")}function Kl(){var n;let e=w.useContext(Da),t=Ql("useRouteError"),r=Fa("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function Wl(){let{router:e}=Hl("useNavigate"),t=Fa("useNavigate"),r=w.useRef(!1);return gi(()=>{r.current=!0}),w.useCallback(async(a,s={})=>{Pe(r.current,pi),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...s}))},[e,t])}var vs={};function wi(e,t,r){!t&&!vs[e]&&(vs[e]=!0,Pe(!1,r))}var bs={};function ws(e,t){!e&&!bs[t]&&(bs[t]=!0,console.warn(t))}function Gl(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Pe(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:w.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Pe(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:w.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Pe(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:w.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var Yl=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function Jl({router:e,flushSync:t}){let[r,n]=w.useState(e.state),[a,s]=w.useState(),[i,o]=w.useState({isTransitioning:!1}),[l,u]=w.useState(),[m,h]=w.useState(),[p,b]=w.useState(),g=w.useRef(new Map),R=w.useCallback((T,{deletedFetchers:$,flushSync:y,viewTransitionOpts:B})=>{T.fetchers.forEach((j,V)=>{j.data!==void 0&&g.current.set(V,j.data)}),$.forEach(j=>g.current.delete(j)),ws(y===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let K=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(ws(B==null||K,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!B||!K){t&&y?t(()=>n(T)):w.startTransition(()=>n(T));return}if(t&&y){t(()=>{m&&(l&&l.resolve(),m.skipTransition()),o({isTransitioning:!0,flushSync:!0,currentLocation:B.currentLocation,nextLocation:B.nextLocation})});let j=e.window.document.startViewTransition(()=>{t(()=>n(T))});j.finished.finally(()=>{t(()=>{u(void 0),h(void 0),s(void 0),o({isTransitioning:!1})})}),t(()=>h(j));return}m?(l&&l.resolve(),m.skipTransition(),b({state:T,currentLocation:B.currentLocation,nextLocation:B.nextLocation})):(s(T),o({isTransitioning:!0,flushSync:!1,currentLocation:B.currentLocation,nextLocation:B.nextLocation}))},[e.window,t,m,l]);w.useLayoutEffect(()=>e.subscribe(R),[e,R]),w.useEffect(()=>{i.isTransitioning&&!i.flushSync&&u(new Yl)},[i]),w.useEffect(()=>{if(l&&a&&e.window){let T=a,$=l.promise,y=e.window.document.startViewTransition(async()=>{w.startTransition(()=>n(T)),await $});y.finished.finally(()=>{u(void 0),h(void 0),s(void 0),o({isTransitioning:!1})}),h(y)}},[a,l,e.window]),w.useEffect(()=>{l&&a&&r.location.key===a.location.key&&l.resolve()},[l,m,r.location,a]),w.useEffect(()=>{!i.isTransitioning&&p&&(s(p.state),o({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),b(void 0))},[i.isTransitioning,p]);let C=w.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:T=>e.navigate(T),push:(T,$,y)=>e.navigate(T,{state:$,preventScrollReset:y==null?void 0:y.preventScrollReset}),replace:(T,$,y)=>e.navigate(T,{replace:!0,state:$,preventScrollReset:y==null?void 0:y.preventScrollReset})}),[e]),x=e.basename||"/",P=w.useMemo(()=>({router:e,navigator:C,static:!1,basename:x}),[e,C,x]);return w.createElement(w.Fragment,null,w.createElement(Xt.Provider,{value:P},w.createElement(Wr.Provider,{value:r},w.createElement(yi.Provider,{value:g.current},w.createElement(Ca.Provider,{value:i},w.createElement(tu,{basename:x,location:r.location,navigationType:r.historyAction,navigator:C},w.createElement(Xl,{routes:e.routes,future:e.future,state:r})))))),null)}var Xl=w.memo(Zl);function Zl({routes:e,future:t,state:r}){return jl(e,void 0,r,t)}function eu(e){return Nl(e.context)}function tu({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:s=!1}){se(!Gr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),o=w.useMemo(()=>({basename:i,navigator:a,static:s,future:{}}),[i,a,s]);typeof r=="string"&&(r=Nt(r));let{pathname:l="/",search:u="",hash:m="",state:h=null,key:p="default"}=r,b=w.useMemo(()=>{let g=et(l,i);return g==null?null:{location:{pathname:g,search:u,hash:m,state:h,key:p},navigationType:n}},[i,l,u,m,h,p,n]);return Pe(b!=null,`<Router basename="${i}"> is not able to match the URL "${l}${u}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:w.createElement(dt.Provider,{value:o},w.createElement(An.Provider,{children:t,value:b}))}var vn="get",bn="application/x-www-form-urlencoded";function _n(e){return e!=null&&typeof e.tagName=="string"}function ru(e){return _n(e)&&e.tagName.toLowerCase()==="button"}function nu(e){return _n(e)&&e.tagName.toLowerCase()==="form"}function au(e){return _n(e)&&e.tagName.toLowerCase()==="input"}function su(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function iu(e,t){return e.button===0&&(!t||t==="_self")&&!su(e)}var fn=null;function ou(){if(fn===null)try{new FormData(document.createElement("form"),0),fn=!1}catch{fn=!0}return fn}var lu=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wn(e){return e!=null&&!lu.has(e)?(Pe(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bn}"`),null):e}function uu(e,t){let r,n,a,s,i;if(nu(e)){let o=e.getAttribute("action");n=o?et(o,t):null,r=e.getAttribute("method")||vn,a=Wn(e.getAttribute("enctype"))||bn,s=new FormData(e)}else if(ru(e)||au(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||o.getAttribute("action");if(n=l?et(l,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||vn,a=Wn(e.getAttribute("formenctype"))||Wn(o.getAttribute("enctype"))||bn,s=new FormData(o,e),!ou()){let{name:u,type:m,value:h}=e;if(m==="image"){let p=u?`${u}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else u&&s.append(u,h)}}else{if(_n(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=vn,n=null,a=bn,i=e}return s&&a==="text/plain"&&(i=s,s=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:s,body:i}}function La(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function cu(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function du(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function fu(e,t,r){let n=await Promise.all(e.map(async a=>{let s=t.routes[a.route.id];if(s){let i=await cu(s,r);return i.links?i.links():[]}return[]}));return pu(n.flat(1).filter(du).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function xs(e,t,r,n,a,s){let i=(l,u)=>r[u]?l.route.id!==r[u].route.id:!0,o=(l,u)=>{var m;return r[u].pathname!==l.pathname||((m=r[u].route.path)==null?void 0:m.endsWith("*"))&&r[u].params["*"]!==l.params["*"]};return s==="assets"?t.filter((l,u)=>i(l,u)||o(l,u)):s==="data"?t.filter((l,u)=>{var h;let m=n.routes[l.route.id];if(!m||!m.hasLoader)return!1;if(i(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function hu(e,t){return mu(e.map(r=>{let n=t.routes[r.route.id];if(!n)return[];let a=[n.module];return n.imports&&(a=a.concat(n.imports)),a}).flat(1))}function mu(e){return[...new Set(e)]}function yu(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function pu(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let s=JSON.stringify(yu(a));return r.has(s)||(r.add(s),n.push({key:s,link:a})),n},[])}function gu(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function vu(){let e=w.useContext(Xt);return La(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function bu(){let e=w.useContext(Wr);return La(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ta=w.createContext(void 0);Ta.displayName="FrameworkContext";function xi(){let e=w.useContext(Ta);return La(e,"You must render this element inside a <HydratedRouter> element"),e}function wu(e,t){let r=w.useContext(Ta),[n,a]=w.useState(!1),[s,i]=w.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:m,onTouchStart:h}=t,p=w.useRef(null);w.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let R=x=>{x.forEach(P=>{i(P.isIntersecting)})},C=new IntersectionObserver(R,{threshold:.5});return p.current&&C.observe(p.current),()=>{C.disconnect()}}},[e]),w.useEffect(()=>{if(n){let R=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(R)}}},[n]);let b=()=>{a(!0)},g=()=>{a(!1),i(!1)};return r?e!=="intent"?[s,p,{}]:[s,p,{onFocus:Ar(o,b),onBlur:Ar(l,g),onMouseEnter:Ar(u,b),onMouseLeave:Ar(m,g),onTouchStart:Ar(h,b)}]:[!1,p,{}]}function Ar(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function xu({page:e,...t}){let{router:r}=vu(),n=w.useMemo(()=>St(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?w.createElement(Ru,{page:e,matches:n,...t}):null}function Eu(e){let{manifest:t,routeModules:r}=xi(),[n,a]=w.useState([]);return w.useEffect(()=>{let s=!1;return fu(e,t,r).then(i=>{s||a(i)}),()=>{s=!0}},[e,t,r]),n}function Ru({page:e,matches:t,...r}){let n=Zt(),{manifest:a,routeModules:s}=xi(),{loaderData:i,matches:o}=bu(),l=w.useMemo(()=>xs(e,t,o,a,n,"data"),[e,t,o,a,n]),u=w.useMemo(()=>xs(e,t,o,a,n,"assets"),[e,t,o,a,n]),m=w.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let b=new Set,g=!1;if(t.forEach(C=>{var P;let x=a.routes[C.route.id];!x||!x.hasLoader||(!l.some(T=>T.route.id===C.route.id)&&C.route.id in i&&((P=s[C.route.id])!=null&&P.shouldRevalidate)||x.hasClientLoader?g=!0:b.add(C.route.id))}),b.size===0)return[];let R=gu(e);return g&&b.size>0&&R.searchParams.set("_routes",t.filter(C=>b.has(C.route.id)).map(C=>C.route.id).join(",")),[R.pathname+R.search]},[i,n,a,l,t,e,s]),h=w.useMemo(()=>hu(u,a),[u,a]),p=Eu(u);return w.createElement(w.Fragment,null,m.map(b=>w.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...r})),h.map(b=>w.createElement("link",{key:b,rel:"modulepreload",href:b,...r})),p.map(({key:b,link:g})=>w.createElement("link",{key:b,...g})))}function Su(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Ei=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ei&&(window.__reactRouterVersion="7.1.3")}catch{}function Cu(e,t){return hl({basename:t==null?void 0:t.basename,future:t==null?void 0:t.future,history:jo({window:t==null?void 0:t.window}),hydrationData:Du(),routes:e,mapRouteProperties:Gl,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function Du(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:Pu(e.errors)}),e}function Pu(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,a]of t)if(a&&a.__type==="RouteErrorResponse")r[n]=new Pn(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let s=window[a.__subType];if(typeof s=="function")try{let i=new s(a.message);i.stack="",r[n]=i}catch{}}if(r[n]==null){let s=new Error(a.message);s.stack="",r[n]=s}}else r[n]=a;return r}var Ri=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Si=w.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:s,replace:i,state:o,target:l,to:u,preventScrollReset:m,viewTransition:h,...p},b){let{basename:g}=w.useContext(dt),R=typeof u=="string"&&Ri.test(u),C,x=!1;if(typeof u=="string"&&R&&(C=u,Ei))try{let V=new URL(window.location.href),X=u.startsWith("//")?new URL(V.protocol+u):new URL(u),de=et(X.pathname,g);X.origin===V.origin&&de!=null?u=de+X.search+X.hash:x=!0}catch{Pe(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=Al(u,{relative:a}),[T,$,y]=wu(n,p),B=Mu(u,{replace:i,state:o,target:l,preventScrollReset:m,relative:a,viewTransition:h});function K(V){t&&t(V),V.defaultPrevented||B(V)}let j=w.createElement("a",{...p,...y,href:C||P,onClick:x||s?t:K,ref:Su(b,$),target:l,"data-discover":!R&&r==="render"?"true":void 0});return T&&!R?w.createElement(w.Fragment,null,j,w.createElement(xu,{page:P})):j});Si.displayName="Link";var Fu=w.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:s,to:i,viewTransition:o,children:l,...u},m){let h=Yr(i,{relative:u.relative}),p=Zt(),b=w.useContext(Wr),{navigator:g,basename:R}=w.useContext(dt),C=b!=null&&Nu(h)&&o===!0,x=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,P=p.pathname,T=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(P=P.toLowerCase(),T=T?T.toLowerCase():null,x=x.toLowerCase()),T&&R&&(T=et(T,R)||T);const $=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let y=P===x||!a&&P.startsWith(x)&&P.charAt($)==="/",B=T!=null&&(T===x||!a&&T.startsWith(x)&&T.charAt(x.length)==="/"),K={isActive:y,isPending:B,isTransitioning:C},j=y?t:void 0,V;typeof n=="function"?V=n(K):V=[n,y?"active":null,B?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let X=typeof s=="function"?s(K):s;return w.createElement(Si,{...u,"aria-current":j,className:V,ref:m,style:X,to:i,viewTransition:o},typeof l=="function"?l(K):l)});Fu.displayName="NavLink";var Lu=w.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:s,method:i=vn,action:o,onSubmit:l,relative:u,preventScrollReset:m,viewTransition:h,...p},b)=>{let g=_u(),R=ku(o,{relative:u}),C=i.toLowerCase()==="get"?"get":"post",x=typeof o=="string"&&Ri.test(o),P=T=>{if(l&&l(T),T.defaultPrevented)return;T.preventDefault();let $=T.nativeEvent.submitter,y=($==null?void 0:$.getAttribute("formmethod"))||i;g($||T.currentTarget,{fetcherKey:t,method:y,navigate:r,replace:a,state:s,relative:u,preventScrollReset:m,viewTransition:h})};return w.createElement("form",{ref:b,method:C,action:R,onSubmit:n?l:P,...p,"data-discover":!x&&e==="render"?"true":void 0})});Lu.displayName="Form";function Tu(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ci(e){let t=w.useContext(Xt);return se(t,Tu(e)),t}function Mu(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:s,viewTransition:i}={}){let o=vi(),l=Zt(),u=Yr(e,{relative:s});return w.useCallback(m=>{if(iu(m,t)){m.preventDefault();let h=r!==void 0?r:kt(l)===kt(u);o(e,{replace:h,state:n,preventScrollReset:a,relative:s,viewTransition:i})}},[l,o,u,r,n,t,e,a,s,i])}var Ou=0,Au=()=>`__${String(++Ou)}__`;function _u(){let{router:e}=Ci("useSubmit"),{basename:t}=w.useContext(dt),r=ql();return w.useCallback(async(n,a={})=>{let{action:s,method:i,encType:o,formData:l,body:u}=uu(n,t);if(a.navigate===!1){let m=a.fetcherKey||Au();await e.fetch(m,r,a.action||s,{preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||i,formEncType:a.encType||o,flushSync:a.flushSync})}else await e.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||i,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function ku(e,{relative:t}={}){let{basename:r}=w.useContext(dt),n=w.useContext(tt);se(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),s={...Yr(e||".",{relative:t})},i=Zt();if(e==null){s.search=i.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(m=>m==="")){o.delete("index"),l.filter(h=>h).forEach(h=>o.append("index",h));let m=o.toString();s.search=m?`?${m}`:""}}return(!e||e===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:ct([r,s.pathname])),kt(s)}function Nu(e,t={}){let r=w.useContext(Ca);se(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Ci("useViewTransitionState"),a=Yr(e,{relative:t.relative});if(!r.isTransitioning)return!1;let s=et(r.currentLocation.pathname,n)||r.currentLocation.pathname,i=et(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Dn(a.pathname,i)!=null||Dn(a.pathname,s)!=null}new TextEncoder;var ju=Qs();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Iu(e){return w.createElement(Jl,{flushSync:ju.flushSync,...e})}const Di={GET_EVENTS:"GET_EVENTS",GET_EVENT_BY_INDEX:"GET_EVENT_BY_INDEX",GET_EVENT:"GET_EVENT",CREATE_EVENT:"CREATE_EVENT",UPDATE_EVENT:"UPDATE_EVENT",DELETE_EVENT:"DELETE_EVENT"},Pi=(...e)=>e.some(t=>t.isLoading||t.isFetching),Uu=(...e)=>e.some(t=>t.isPending&&t.isIdle),Fi=ee.forwardRef((e,t)=>{const{label:r,value:n,onChange:a,error:s,className:i}=e;return A.jsxs("div",{className:i,children:[A.jsx("label",{className:"cd-block cd-text-lg cd-pt-2 cd-font-sans cd-font-medium cd-text-gray-800 dark:cd-text-gray-100",children:r}),A.jsx("input",{ref:t,type:"number",value:n,onChange:o=>{a(o.target.value?parseFloat(o.target.value):0)},className:"cd-mt-1 cd-px-3 cd-font-sans cd-block cd-w-full cd-text-gray-900 dark:cd-text-gray-200 cd-py-2 dark:cd-bg-zinc-700 cd-border cd-border-gray-300 dark:cd-border-gray-500 cd-rounded-md cd-shadow-sm focus:cd-outline-none fous:cd-ring-indigo"}),s&&A.jsx("p",{className:"cd-mt-2 cd-text-sm cd-text-red-600",children:s})]})}),Vu=ee.forwardRef((e,t)=>{const{caption:r,onClick:n,className:a}=e;return A.jsx("button",{className:`cd-font-sans cd-font-medium cd-py-3 cd-px-8 cd-ml-5 cd-text-white cd-bg-violet-500 cd-rounded-lg hover:cd-bg-violet-700 cd-text-lg cd-shadow-lg ${a}`,type:"submit",ref:t,onClick:n,children:r})}),ir=class ir{static calculateTotalIncome(t){return t.filter(r=>r.type==="income").reduce((r,n)=>r+n.amount,0)}static calculateTotalExpense(t){return t.filter(r=>r.type==="expense").reduce((r,n)=>r+n.amount,0)}static calculateGlobal(t,r,n,a){return t===0?r+a:r+n}};Bn(ir,"calculateTotals",(t,r)=>{let n=t.initialMoney;const a=t.flows.map((s,i)=>{const o=ir.calculateTotalIncome(s.events),l=ir.calculateTotalExpense(s.events),u=o-l,m=ir.calculateGlobal(i,u,n,r);return n=m,{...s,income:o,expense:l,monthly:u,global:m}});return{...t,flows:a}});let Hr=ir;class $u{static processEvents(t,r){const n={initialMoney:r,flows:[]};return t.forEach(a=>{const s=En.unix(a.date).format("YYYY-MM");this.addEventToFlow(n,s,a)}),this.sortEventsFlow(n),n}static addEventToFlow(t,r,n){const a=t.flows.find(s=>s.id===r);a?(a.events.push(n),a.income=Hr.calculateTotalIncome(a.events),a.expense=Hr.calculateTotalExpense(a.events),a.monthly=a.income-a.expense,a.global=a.monthly+t.initialMoney):t.flows.push({id:r,events:[n],income:n.type==="income"?n.amount:0,expense:n.type==="expense"?n.amount:0,monthly:n.type==="income"?n.amount:-n.amount,global:n.type==="income"?n.amount+t.initialMoney:-n.amount+t.initialMoney})}static sortEventsFlow(t){t.flows.sort((r,n)=>r.id.localeCompare(n.id))}}const De=[];for(let e=0;e<256;++e)De.push((e+256).toString(16).slice(1));function Bu(e,t=0){return(De[e[t+0]]+De[e[t+1]]+De[e[t+2]]+De[e[t+3]]+"-"+De[e[t+4]]+De[e[t+5]]+"-"+De[e[t+6]]+De[e[t+7]]+"-"+De[e[t+8]]+De[e[t+9]]+"-"+De[e[t+10]]+De[e[t+11]]+De[e[t+12]]+De[e[t+13]]+De[e[t+14]]+De[e[t+15]]).toLowerCase()}let Gn;const Hu=new Uint8Array(16);function Qu(){if(!Gn){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Gn=crypto.getRandomValues.bind(crypto)}return Gn(Hu)}const zu=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Es={randomUUID:zu};function qu(e,t,r){var a;if(Es.randomUUID&&!e)return Es.randomUUID();e=e||{};const n=e.random??((a=e.rng)==null?void 0:a.call(e))??Qu();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Bu(n)}class Ku{}const hn="events",_r=(e=500)=>new Promise(t=>setTimeout(t,e));class Wu extends Ku{getEvents(){try{const t=localStorage.getItem(hn);return t?JSON.parse(t):[]}catch(t){throw console.error(t),new Error("Error a cargar los eventos")}}async loadEvents(){try{return await _r(),{events:this.getEvents()}}catch(t){throw console.error(t),new Error("Error al cargar los eventos")}}async loadEventById(t){try{return await _r(),{event:this.getEvents().find(a=>a.id===t)}}catch(r){throw console.error(r),new Error(`Error al cargar el evento ${t} `)}}async saveEvent(t){try{await _r();const n=this.getEvents();n.unshift({...t,id:qu()}),localStorage.setItem(hn,JSON.stringify(n))}catch(r){throw console.error(r),new Error("Error al guardar el evento")}}async updateEvent(t,r){try{await _r();const n=this.getEvents(),a=n.findIndex(i=>i.id===t);if(a===-1)throw new Error("Evento no encontrado");const s={...n[a],...r};n[a]=s,localStorage.setItem(hn,JSON.stringify(n))}catch(n){throw console.error(n),new Error("Error al actualizar el evento")}}async deleteEvent(t){try{await _r();const r=this.getEvents(),n=r.filter(a=>a.id===t);if(n.length===0)throw new Error("Evento no encontrado");r.splice(r.indexOf(n[0]),1),localStorage.setItem(hn,JSON.stringify(r))}catch(r){throw console.error(r),new Error("Error al eliminar el evento")}}}class Gu{constructor(t){Bn(this,"data");this.data=t}async loadEvents(t){return await this.data.loadEvents(t)}async loadEventById(t){return await this.data.loadEventById(t)}async saveEvent(t){return await this.data.saveEvent(t)}async updateEvent(t,r){return this.data.updateEvent(t,r)}async deleteEvent(t){return this.data.deleteEvent(t)}}const Yu=new Wu,wn=new Gu(Yu),Ju={initialMoney:0,flows:[]},Xu=()=>{const{state:e}=bi(),[t,r]=w.useState(0),[n,a]=w.useState(Ju),s=si({queryKey:[Di.GET_EVENTS,e],queryFn:({queryKey:l})=>wn.loadEvents(l[0])});w.useEffect(()=>{var l;if((l=s.data)!=null&&l.events){const u=$u.processEvents(s.data.events,n.initialMoney);a(u)}},[s.data]);const{data:i}=s,o=Pi(s);return A.jsx("div",{id:"home",className:"cd-h-full cd-overflow-hidden ",children:A.jsxs(ee.Fragment,{children:[o&&A.jsx("p",{className:"cd-py-52 cd-text-2xl cd-text-zinc-800 dark:cd-text-gray-300 cd-font-bold cd-font-sans cd-text-center",children:"Cargando balances..."}),!o&&i&&A.jsxs("div",{className:"cd-mx-20 cd-my-10 cd-pt-10",children:[A.jsx("div",{className:"cd-flex cd-justify-items-start cd-gap-y-[2rem] cd-font-sans ",children:A.jsxs("div",{className:"cd-flex cd-items-end cd-justify-between cd-w-full",children:[A.jsxs("div",{className:"cd-flex cd-flex-row cd-items-end ",children:[A.jsx(Fi,{className:"",label:"Initial Money",value:t,onChange:r}),A.jsx(Vu,{caption:"Calcular",onClick:()=>{a(u=>({...u,initialMoney:t}));const l=Hr.calculateTotals(n,t);a(l)}})]}),A.jsx("a",{href:"/events/form",className:"cd-bg-violet-500 cd-text-white cd-text-lg cd-font-medium cd-px-7 cd-py-3 cd-rounded-md hover:cd-bg-violet-700",children:"Add Event"})]})}),!o&&(i==null?void 0:i.events)&&i.events.length>0&&A.jsxs("div",{className:"cd-flex cd-flex-col cd-gap-4 cd-items-center cd-text-center dark:cd-text-white cd-pt-8",children:[A.jsx("p",{className:"cd-mb-2 cd-pt-4 cd-self-start cd-font-sans cd-font-medium cd-text-xl cd-text-center",children:"Your Events"}),A.jsx("div",{className:"cd-grid cd-grid-cols-1 md:cd-grid-cols-2 lg:cd-grid-cols-4 cd-gap-4",children:n.flows.map(l=>A.jsx(eo,{data:l},l.id))})]}),!o&&(!(i!=null&&i.events)||i.events.length===0)&&A.jsx("div",{className:"cd-flex cd-flex-col cd-items-center cd-justify-center cd-h-full cd-pt-56 cd-pb-80",children:A.jsx("h1",{className:"cd-text-3xl cd-font-bold cd-text-center dark:cd-text-gray-300 ",children:"Empty virtual wallet"})})]})]})})},Zu={schema:"light",toggleSchema:()=>{throw new Error("toggleSchema not implemented")}},Li={...Zu},Ti=ee.createContext(Li),ec=()=>{const{schema:e,toggleSchema:t}=ee.useContext(Ti);return A.jsxs("div",{className:` cd-min-h-screen cd-transition-colors cd-duration-500 ${e==="dark"?"dark cd-bg-zinc-800":"cd-bg-white"}`,children:[A.jsxs("header",{className:"cd-fixed cd-top-0 cd-left-0 cd-right-0 cd-w-full dark:cd-bg-zinc-800 cd-bg-white cd-font-sans cd-header cd-flex cd-items-center cd-justify-between cd-p-4 cd-shadow-md",children:[A.jsxs("a",{href:"",className:"cd-text-3xl cd-font-bold dark:cd-text-white cd-text-black cd-m-3",children:["Wallet",A.jsx("span",{className:"cd-text-violet-700",children:"fy"})]}),A.jsx("button",{className:"cd-p-3 cd-rounded-md cd-shadow-lg cd-bg-gray-200 hover:cd-bg-gray-300 cd-mx-6 dark:cd-bg-zinc-700 dark:hover:cd-bg-gray-500 cd-transition-colors cd-duration-500",onClick:t,children:e==="light"?"":""})]}),A.jsx("div",{className:"cd-pt-16",children:A.jsx(eu,{})})]})};var Jr=e=>e.type==="checkbox",$t=e=>e instanceof Date,_e=e=>e==null;const Mi=e=>typeof e=="object";var ve=e=>!_e(e)&&!Array.isArray(e)&&Mi(e)&&!$t(e),Oi=e=>ve(e)&&e.target?Jr(e.target)?e.target.checked:e.target.value:e,tc=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Ai=(e,t)=>e.has(tc(t)),rc=e=>{const t=e.constructor&&e.constructor.prototype;return ve(t)&&t.hasOwnProperty("isPrototypeOf")},Ma=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ke(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Ma&&(e instanceof Blob||n))&&(r||ve(e)))if(t=r?[]:{},!r&&!rc(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=ke(e[a]));else return e;return t}var kn=e=>Array.isArray(e)?e.filter(Boolean):[],ge=e=>e===void 0,O=(e,t,r)=>{if(!t||!ve(e))return r;const n=kn(t.split(/[,[\].]+?/)).reduce((a,s)=>_e(a)?a:a[s],e);return ge(n)||n===e?ge(e[t])?r:e[t]:n},We=e=>typeof e=="boolean",Oa=e=>/^\w*$/.test(e),_i=e=>kn(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ie=(e,t,r)=>{let n=-1;const a=Oa(t)?[t]:_i(t),s=a.length,i=s-1;for(;++n<s;){const o=a[n];let l=r;if(n!==i){const u=e[o];l=ve(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;e[o]=l,e=e[o]}return e};const Fn={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ze={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},yt={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},nc=ee.createContext(null),Aa=()=>ee.useContext(nc);var ki=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(a,s,{get:()=>{const i=s;return t._proxyFormState[i]!==Ze.all&&(t._proxyFormState[i]=!n||Ze.all),r&&(r[i]=!0),e[i]}});return a},Ie=e=>ve(e)&&!Object.keys(e).length,Ni=(e,t,r,n)=>{r(e);const{name:a,...s}=e;return Ie(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(i=>t[i]===(!n||Ze.all))},Ur=e=>Array.isArray(e)?e:[e],ji=(e,t,r)=>!e||!t||e===t||Ur(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n)));function _a(e){const t=ee.useRef(e);t.current=e,ee.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}function ac(e){const t=Aa(),{control:r=t.control,disabled:n,name:a,exact:s}=e,[i,o]=ee.useState(r._formState),l=ee.useRef(!0),u=ee.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),m=ee.useRef(a);return m.current=a,_a({disabled:n,next:h=>l.current&&ji(m.current,h.name,s)&&Ni(h,u.current,r._updateFormState)&&o({...r._formState,...h}),subject:r._subjects.state}),ee.useEffect(()=>(l.current=!0,u.current.isValid&&r._updateValid(!0),()=>{l.current=!1}),[r]),ee.useMemo(()=>ki(i,r,u.current,!1),[i,r])}var ut=e=>typeof e=="string",Ii=(e,t,r,n,a)=>ut(e)?(n&&t.watch.add(e),O(r,e,a)):Array.isArray(e)?e.map(s=>(n&&t.watch.add(s),O(r,s))):(n&&(t.watchAll=!0),r);function sc(e){const t=Aa(),{control:r=t.control,name:n,defaultValue:a,disabled:s,exact:i}=e,o=ee.useRef(n);o.current=n,_a({disabled:s,subject:r._subjects.values,next:m=>{ji(o.current,m.name,i)&&u(ke(Ii(o.current,r._names,m.values||r._formValues,!1,a)))}});const[l,u]=ee.useState(r._getWatch(n,a));return ee.useEffect(()=>r._removeUnmounted()),l}function ic(e){const t=Aa(),{name:r,disabled:n,control:a=t.control,shouldUnregister:s}=e,i=Ai(a._names.array,r),o=sc({control:a,name:r,defaultValue:O(a._formValues,r,O(a._defaultValues,r,e.defaultValue)),exact:!0}),l=ac({control:a,name:r,exact:!0}),u=ee.useRef(a.register(r,{...e.rules,value:o,...We(e.disabled)?{disabled:e.disabled}:{}})),m=ee.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!O(l.errors,r)},isDirty:{enumerable:!0,get:()=>!!O(l.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!O(l.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!O(l.validatingFields,r)},error:{enumerable:!0,get:()=>O(l.errors,r)}}),[l,r]),h=ee.useMemo(()=>({name:r,value:o,...We(n)||l.disabled?{disabled:l.disabled||n}:{},onChange:p=>u.current.onChange({target:{value:Oi(p),name:r},type:Fn.CHANGE}),onBlur:()=>u.current.onBlur({target:{value:O(a._formValues,r),name:r},type:Fn.BLUR}),ref:p=>{const b=O(a._fields,r);b&&p&&(b._f.ref={focus:()=>p.focus(),select:()=>p.select(),setCustomValidity:g=>p.setCustomValidity(g),reportValidity:()=>p.reportValidity()})}}),[r,a._formValues,n,l.disabled,o,a._fields]);return ee.useEffect(()=>{const p=a._options.shouldUnregister||s,b=(g,R)=>{const C=O(a._fields,g);C&&C._f&&(C._f.mount=R)};if(b(r,!0),p){const g=ke(O(a._options.defaultValues,r));ie(a._defaultValues,r,g),ge(O(a._formValues,r))&&ie(a._formValues,r,g)}return!i&&a.register(r),()=>{(i?p&&!a._state.action:p)?a.unregister(r):b(r,!1)}},[r,a,i,s]),ee.useEffect(()=>{a._updateDisabledField({disabled:n,fields:a._fields,name:r})},[n,r,a]),ee.useMemo(()=>({field:h,formState:l,fieldState:m}),[h,l,m])}const ar=e=>e.render(ic(e));var Ui=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},Rs=e=>({isOnSubmit:!e||e===Ze.onSubmit,isOnBlur:e===Ze.onBlur,isOnChange:e===Ze.onChange,isOnAll:e===Ze.all,isOnTouch:e===Ze.onTouched}),Ss=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Vr=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const s=O(e,a);if(s){const{_f:i,...o}=s;if(i){if(i.refs&&i.refs[0]&&t(i.refs[0],a)&&!n)return!0;if(i.ref&&t(i.ref,i.name)&&!n)return!0;if(Vr(o,t))break}else if(ve(o)&&Vr(o,t))break}}};var oc=(e,t,r)=>{const n=Ur(O(e,r));return ie(n,"root",t[r]),ie(e,r,n),e},ka=e=>e.type==="file",lt=e=>typeof e=="function",Ln=e=>{if(!Ma)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},xn=e=>ut(e),Na=e=>e.type==="radio",Tn=e=>e instanceof RegExp;const Cs={value:!1,isValid:!1},Ds={value:!0,isValid:!0};var Vi=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ge(e[0].attributes.value)?ge(e[0].value)||e[0].value===""?Ds:{value:e[0].value,isValid:!0}:Ds:Cs}return Cs};const Ps={isValid:!1,value:null};var $i=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Ps):Ps;function Fs(e,t,r="validate"){if(xn(e)||Array.isArray(e)&&e.every(xn)||We(e)&&!e)return{type:r,message:xn(e)?e:"",ref:t}}var sr=e=>ve(e)&&!Tn(e)?e:{value:e,message:""},Ls=async(e,t,r,n,a,s)=>{const{ref:i,refs:o,required:l,maxLength:u,minLength:m,min:h,max:p,pattern:b,validate:g,name:R,valueAsNumber:C,mount:x}=e._f,P=O(r,R);if(!x||t.has(R))return{};const T=o?o[0]:i,$=W=>{a&&T.reportValidity&&(T.setCustomValidity(We(W)?"":W||""),T.reportValidity())},y={},B=Na(i),K=Jr(i),j=B||K,V=(C||ka(i))&&ge(i.value)&&ge(P)||Ln(i)&&i.value===""||P===""||Array.isArray(P)&&!P.length,X=Ui.bind(null,R,n,y),de=(W,te,fe,ne=yt.maxLength,Fe=yt.minLength)=>{const Re=W?te:fe;y[R]={type:W?ne:Fe,message:Re,ref:i,...X(W?ne:Fe,Re)}};if(s?!Array.isArray(P)||!P.length:l&&(!j&&(V||_e(P))||We(P)&&!P||K&&!Vi(o).isValid||B&&!$i(o).isValid)){const{value:W,message:te}=xn(l)?{value:!!l,message:l}:sr(l);if(W&&(y[R]={type:yt.required,message:te,ref:T,...X(yt.required,te)},!n))return $(te),y}if(!V&&(!_e(h)||!_e(p))){let W,te;const fe=sr(p),ne=sr(h);if(!_e(P)&&!isNaN(P)){const Fe=i.valueAsNumber||P&&+P;_e(fe.value)||(W=Fe>fe.value),_e(ne.value)||(te=Fe<ne.value)}else{const Fe=i.valueAsDate||new Date(P),Re=Be=>new Date(new Date().toDateString()+" "+Be),$e=i.type=="time",Me=i.type=="week";ut(fe.value)&&P&&(W=$e?Re(P)>Re(fe.value):Me?P>fe.value:Fe>new Date(fe.value)),ut(ne.value)&&P&&(te=$e?Re(P)<Re(ne.value):Me?P<ne.value:Fe<new Date(ne.value))}if((W||te)&&(de(!!W,fe.message,ne.message,yt.max,yt.min),!n))return $(y[R].message),y}if((u||m)&&!V&&(ut(P)||s&&Array.isArray(P))){const W=sr(u),te=sr(m),fe=!_e(W.value)&&P.length>+W.value,ne=!_e(te.value)&&P.length<+te.value;if((fe||ne)&&(de(fe,W.message,te.message),!n))return $(y[R].message),y}if(b&&!V&&ut(P)){const{value:W,message:te}=sr(b);if(Tn(W)&&!P.match(W)&&(y[R]={type:yt.pattern,message:te,ref:i,...X(yt.pattern,te)},!n))return $(te),y}if(g){if(lt(g)){const W=await g(P,r),te=Fs(W,T);if(te&&(y[R]={...te,...X(yt.validate,te.message)},!n))return $(te.message),y}else if(ve(g)){let W={};for(const te in g){if(!Ie(W)&&!n)break;const fe=Fs(await g[te](P,r),T,te);fe&&(W={...fe,...X(te,fe.message)},$(fe.message),n&&(y[R]=W))}if(!Ie(W)&&(y[R]={ref:T,...W},!n))return y}}return $(!0),y};function lc(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=ge(e)?n++:e[t[n++]];return e}function uc(e){for(const t in e)if(e.hasOwnProperty(t)&&!ge(e[t]))return!1;return!0}function xe(e,t){const r=Array.isArray(t)?t:Oa(t)?[t]:_i(t),n=r.length===1?e:lc(e,r),a=r.length-1,s=r[a];return n&&delete n[s],a!==0&&(ve(n)&&Ie(n)||Array.isArray(n)&&uc(n))&&xe(e,r.slice(0,-1)),e}var Yn=()=>{let e=[];return{get observers(){return e},next:a=>{for(const s of e)s.next&&s.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(s=>s!==a)}}),unsubscribe:()=>{e=[]}}},pa=e=>_e(e)||!Mi(e);function Ct(e,t){if(pa(e)||pa(t))return e===t;if($t(e)&&$t(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const a of r){const s=e[a];if(!n.includes(a))return!1;if(a!=="ref"){const i=t[a];if($t(s)&&$t(i)||ve(s)&&ve(i)||Array.isArray(s)&&Array.isArray(i)?!Ct(s,i):s!==i)return!1}}return!0}var Bi=e=>e.type==="select-multiple",cc=e=>Na(e)||Jr(e),Jn=e=>Ln(e)&&e.isConnected,Hi=e=>{for(const t in e)if(lt(e[t]))return!0;return!1};function Mn(e,t={}){const r=Array.isArray(e);if(ve(e)||r)for(const n in e)Array.isArray(e[n])||ve(e[n])&&!Hi(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Mn(e[n],t[n])):_e(e[n])||(t[n]=!0);return t}function Qi(e,t,r){const n=Array.isArray(e);if(ve(e)||n)for(const a in e)Array.isArray(e[a])||ve(e[a])&&!Hi(e[a])?ge(t)||pa(r[a])?r[a]=Array.isArray(e[a])?Mn(e[a],[]):{...Mn(e[a])}:Qi(e[a],_e(t)?{}:t[a],r[a]):r[a]=!Ct(e[a],t[a]);return r}var kr=(e,t)=>Qi(e,t,Mn(t)),zi=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>ge(e)?e:t?e===""?NaN:e&&+e:r&&ut(e)?new Date(e):n?n(e):e;function Xn(e){const t=e.ref;return ka(t)?t.files:Na(t)?$i(e.refs).value:Bi(t)?[...t.selectedOptions].map(({value:r})=>r):Jr(t)?Vi(e.refs).value:zi(ge(t.value)?e.ref.value:t.value,e)}var dc=(e,t,r,n)=>{const a={};for(const s of e){const i=O(t,s);i&&ie(a,s,i._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},Nr=e=>ge(e)?e:Tn(e)?e.source:ve(e)?Tn(e.value)?e.value.source:e.value:e;const Ts="AsyncFunction";var fc=e=>!!e&&!!e.validate&&!!(lt(e.validate)&&e.validate.constructor.name===Ts||ve(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Ts)),hc=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Ms(e,t,r){const n=O(e,r);if(n||Oa(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const s=a.join("."),i=O(t,s),o=O(e,s);if(i&&!Array.isArray(i)&&r!==s)return{name:r};if(o&&o.type)return{name:s,error:o};a.pop()}return{name:r}}var mc=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,yc=(e,t)=>!kn(O(e,t)).length&&xe(e,t);const pc={mode:Ze.onSubmit,reValidateMode:Ze.onChange,shouldFocusError:!0};function gc(e={}){let t={...pc,...e},r={submitCount:0,isDirty:!1,isLoading:lt(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=ve(t.defaultValues)||ve(t.values)?ke(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:ke(a),i={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:Yn(),array:Yn(),state:Yn()},p=Rs(t.mode),b=Rs(t.reValidateMode),g=t.criteriaMode===Ze.all,R=d=>E=>{clearTimeout(u),u=setTimeout(d,E)},C=async d=>{if(!t.disabled&&(m.isValid||d)){const E=t.resolver?Ie((await j()).errors):await X(n,!0);E!==r.isValid&&h.state.next({isValid:E})}},x=(d,E)=>{!t.disabled&&(m.isValidating||m.validatingFields)&&((d||Array.from(o.mount)).forEach(D=>{D&&(E?ie(r.validatingFields,D,E):xe(r.validatingFields,D))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Ie(r.validatingFields)}))},P=(d,E=[],D,_,M=!0,L=!0)=>{if(_&&D&&!t.disabled){if(i.action=!0,L&&Array.isArray(O(n,d))){const Q=D(O(n,d),_.argA,_.argB);M&&ie(n,d,Q)}if(L&&Array.isArray(O(r.errors,d))){const Q=D(O(r.errors,d),_.argA,_.argB);M&&ie(r.errors,d,Q),yc(r.errors,d)}if(m.touchedFields&&L&&Array.isArray(O(r.touchedFields,d))){const Q=D(O(r.touchedFields,d),_.argA,_.argB);M&&ie(r.touchedFields,d,Q)}m.dirtyFields&&(r.dirtyFields=kr(a,s)),h.state.next({name:d,isDirty:W(d,E),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ie(s,d,E)},T=(d,E)=>{ie(r.errors,d,E),h.state.next({errors:r.errors})},$=d=>{r.errors=d,h.state.next({errors:r.errors,isValid:!1})},y=(d,E,D,_)=>{const M=O(n,d);if(M){const L=O(s,d,ge(D)?O(a,d):D);ge(L)||_&&_.defaultChecked||E?ie(s,d,E?L:Xn(M._f)):ne(d,L),i.mount&&C()}},B=(d,E,D,_,M)=>{let L=!1,Q=!1;const G={name:d};if(!t.disabled){const le=!!(O(n,d)&&O(n,d)._f&&O(n,d)._f.disabled);if(!D||_){m.isDirty&&(Q=r.isDirty,r.isDirty=G.isDirty=W(),L=Q!==G.isDirty);const pe=le||Ct(O(a,d),E);Q=!!(!le&&O(r.dirtyFields,d)),pe||le?xe(r.dirtyFields,d):ie(r.dirtyFields,d,!0),G.dirtyFields=r.dirtyFields,L=L||m.dirtyFields&&Q!==!pe}if(D){const pe=O(r.touchedFields,d);pe||(ie(r.touchedFields,d,D),G.touchedFields=r.touchedFields,L=L||m.touchedFields&&pe!==D)}L&&M&&h.state.next(G)}return L?G:{}},K=(d,E,D,_)=>{const M=O(r.errors,d),L=m.isValid&&We(E)&&r.isValid!==E;if(t.delayError&&D?(l=R(()=>T(d,D)),l(t.delayError)):(clearTimeout(u),l=null,D?ie(r.errors,d,D):xe(r.errors,d)),(D?!Ct(M,D):M)||!Ie(_)||L){const Q={..._,...L&&We(E)?{isValid:E}:{},errors:r.errors,name:d};r={...r,...Q},h.state.next(Q)}},j=async d=>{x(d,!0);const E=await t.resolver(s,t.context,dc(d||o.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return x(d),E},V=async d=>{const{errors:E}=await j(d);if(d)for(const D of d){const _=O(E,D);_?ie(r.errors,D,_):xe(r.errors,D)}else r.errors=E;return E},X=async(d,E,D={valid:!0})=>{for(const _ in d){const M=d[_];if(M){const{_f:L,...Q}=M;if(L){const G=o.array.has(L.name),le=M._f&&fc(M._f);le&&m.validatingFields&&x([_],!0);const pe=await Ls(M,o.disabled,s,g,t.shouldUseNativeValidation&&!E,G);if(le&&m.validatingFields&&x([_]),pe[L.name]&&(D.valid=!1,E))break;!E&&(O(pe,L.name)?G?oc(r.errors,pe,L.name):ie(r.errors,L.name,pe[L.name]):xe(r.errors,L.name))}!Ie(Q)&&await X(Q,E,D)}}return D.valid},de=()=>{for(const d of o.unMount){const E=O(n,d);E&&(E._f.refs?E._f.refs.every(D=>!Jn(D)):!Jn(E._f.ref))&&Er(d)}o.unMount=new Set},W=(d,E)=>!t.disabled&&(d&&E&&ie(s,d,E),!Ct(wt(),a)),te=(d,E,D)=>Ii(d,o,{...i.mount?s:ge(E)?a:ut(d)?{[d]:E}:E},D,E),fe=d=>kn(O(i.mount?s:a,d,t.shouldUnregister?O(a,d,[]):[])),ne=(d,E,D={})=>{const _=O(n,d);let M=E;if(_){const L=_._f;L&&(!L.disabled&&ie(s,d,zi(E,L)),M=Ln(L.ref)&&_e(E)?"":E,Bi(L.ref)?[...L.ref.options].forEach(Q=>Q.selected=M.includes(Q.value)):L.refs?Jr(L.ref)?L.refs.length>1?L.refs.forEach(Q=>(!Q.defaultChecked||!Q.disabled)&&(Q.checked=Array.isArray(M)?!!M.find(G=>G===Q.value):M===Q.value)):L.refs[0]&&(L.refs[0].checked=!!M):L.refs.forEach(Q=>Q.checked=Q.value===M):ka(L.ref)?L.ref.value="":(L.ref.value=M,L.ref.type||h.values.next({name:d,values:{...s}})))}(D.shouldDirty||D.shouldTouch)&&B(d,M,D.shouldTouch,D.shouldDirty,!0),D.shouldValidate&&Be(d)},Fe=(d,E,D)=>{for(const _ in E){const M=E[_],L=`${d}.${_}`,Q=O(n,L);(o.array.has(d)||ve(M)||Q&&!Q._f)&&!$t(M)?Fe(L,M,D):ne(L,M,D)}},Re=(d,E,D={})=>{const _=O(n,d),M=o.array.has(d),L=ke(E);ie(s,d,L),M?(h.array.next({name:d,values:{...s}}),(m.isDirty||m.dirtyFields)&&D.shouldDirty&&h.state.next({name:d,dirtyFields:kr(a,s),isDirty:W(d,L)})):_&&!_._f&&!_e(L)?Fe(d,L,D):ne(d,L,D),Ss(d,o)&&h.state.next({...r}),h.values.next({name:i.mount?d:void 0,values:{...s}})},$e=async d=>{i.mount=!0;const E=d.target;let D=E.name,_=!0;const M=O(n,D),L=()=>E.type?Xn(M._f):Oi(d),Q=G=>{_=Number.isNaN(G)||$t(G)&&isNaN(G.getTime())||Ct(G,O(s,D,G))};if(M){let G,le;const pe=L(),He=d.type===Fn.BLUR||d.type===Fn.FOCUS_OUT,In=!hc(M._f)&&!t.resolver&&!O(r.errors,D)&&!M._f.deps||mc(He,O(r.touchedFields,D),r.isSubmitted,b,p),Qe=Ss(D,o,He);ie(s,D,pe),He?(M._f.onBlur&&M._f.onBlur(d),l&&l(0)):M._f.onChange&&M._f.onChange(d);const er=B(D,pe,He,!1),en=!Ie(er)||Qe;if(!He&&h.values.next({name:D,type:d.type,values:{...s}}),In)return m.isValid&&(t.mode==="onBlur"&&He?C():He||C()),en&&h.state.next({name:D,...Qe?{}:er});if(!He&&Qe&&h.state.next({...r}),t.resolver){const{errors:Cr}=await j([D]);if(Q(pe),_){const Un=Ms(r.errors,n,D),Dr=Ms(Cr,n,Un.name||D);G=Dr.error,D=Dr.name,le=Ie(Cr)}}else x([D],!0),G=(await Ls(M,o.disabled,s,g,t.shouldUseNativeValidation))[D],x([D]),Q(pe),_&&(G?le=!1:m.isValid&&(le=await X(n,!0)));_&&(M._f.deps&&Be(M._f.deps),K(D,le,G,er))}},Me=(d,E)=>{if(O(r.errors,E)&&d.focus)return d.focus(),1},Be=async(d,E={})=>{let D,_;const M=Ur(d);if(t.resolver){const L=await V(ge(d)?d:M);D=Ie(L),_=d?!M.some(Q=>O(L,Q)):D}else d?(_=(await Promise.all(M.map(async L=>{const Q=O(n,L);return await X(Q&&Q._f?{[L]:Q}:Q)}))).every(Boolean),!(!_&&!r.isValid)&&C()):_=D=await X(n);return h.state.next({...!ut(d)||m.isValid&&D!==r.isValid?{}:{name:d},...t.resolver||!d?{isValid:D}:{},errors:r.errors}),E.shouldFocus&&!_&&Vr(n,Me,d?M:o.mount),_},wt=d=>{const E={...i.mount?s:a};return ge(d)?E:ut(d)?O(E,d):d.map(D=>O(E,D))},Ue=(d,E)=>({invalid:!!O((E||r).errors,d),isDirty:!!O((E||r).dirtyFields,d),error:O((E||r).errors,d),isValidating:!!O(r.validatingFields,d),isTouched:!!O((E||r).touchedFields,d)}),ft=d=>{d&&Ur(d).forEach(E=>xe(r.errors,E)),h.state.next({errors:d?r.errors:{}})},jt=(d,E,D)=>{const _=(O(n,d,{_f:{}})._f||{}).ref,M=O(r.errors,d)||{},{ref:L,message:Q,type:G,...le}=M;ie(r.errors,d,{...le,...E,ref:_}),h.state.next({name:d,errors:r.errors,isValid:!1}),D&&D.shouldFocus&&_&&_.focus&&_.focus()},ht=(d,E)=>lt(d)?h.values.subscribe({next:D=>d(te(void 0,E),D)}):te(d,E,!0),Er=(d,E={})=>{for(const D of d?Ur(d):o.mount)o.mount.delete(D),o.array.delete(D),E.keepValue||(xe(n,D),xe(s,D)),!E.keepError&&xe(r.errors,D),!E.keepDirty&&xe(r.dirtyFields,D),!E.keepTouched&&xe(r.touchedFields,D),!E.keepIsValidating&&xe(r.validatingFields,D),!t.shouldUnregister&&!E.keepDefaultValue&&xe(a,D);h.values.next({values:{...s}}),h.state.next({...r,...E.keepDirty?{isDirty:W()}:{}}),!E.keepIsValid&&C()},Xr=({disabled:d,name:E,field:D,fields:_})=>{(We(d)&&i.mount||d||o.disabled.has(E))&&(d?o.disabled.add(E):o.disabled.delete(E),B(E,Xn(D?D._f:O(_,E)._f),!1,!1,!0))},Rr=(d,E={})=>{let D=O(n,d);const _=We(E.disabled)||We(t.disabled);return ie(n,d,{...D||{},_f:{...D&&D._f?D._f:{ref:{name:d}},name:d,mount:!0,...E}}),o.mount.add(d),D?Xr({field:D,disabled:We(E.disabled)?E.disabled:t.disabled,name:d}):y(d,!0,E.value),{..._?{disabled:E.disabled||t.disabled}:{},...t.progressive?{required:!!E.required,min:Nr(E.min),max:Nr(E.max),minLength:Nr(E.minLength),maxLength:Nr(E.maxLength),pattern:Nr(E.pattern)}:{},name:d,onChange:$e,onBlur:$e,ref:M=>{if(M){Rr(d,E),D=O(n,d);const L=ge(M.value)&&M.querySelectorAll&&M.querySelectorAll("input,select,textarea")[0]||M,Q=cc(L),G=D._f.refs||[];if(Q?G.find(le=>le===L):L===D._f.ref)return;ie(n,d,{_f:{...D._f,...Q?{refs:[...G.filter(Jn),L,...Array.isArray(O(a,d))?[{}]:[]],ref:{type:L.type,name:d}}:{ref:L}}}),y(d,!1,void 0,L)}else D=O(n,d,{}),D._f&&(D._f.mount=!1),(t.shouldUnregister||E.shouldUnregister)&&!(Ai(o.array,d)&&i.action)&&o.unMount.add(d)}}},Se=()=>t.shouldFocusError&&Vr(n,Me,o.mount),xt=d=>{We(d)&&(h.state.next({disabled:d}),Vr(n,(E,D)=>{const _=O(n,D);_&&(E.disabled=_._f.disabled||d,Array.isArray(_._f.refs)&&_._f.refs.forEach(M=>{M.disabled=_._f.disabled||d}))},0,!1))},Sr=(d,E)=>async D=>{let _;D&&(D.preventDefault&&D.preventDefault(),D.persist&&D.persist());let M=ke(s);if(o.disabled.size)for(const L of o.disabled)ie(M,L,void 0);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:L,values:Q}=await j();r.errors=L,M=Q}else await X(n);if(xe(r.errors,"root"),Ie(r.errors)){h.state.next({errors:{}});try{await d(M,D)}catch(L){_=L}}else E&&await E({...r.errors},D),Se(),setTimeout(Se);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ie(r.errors)&&!_,submitCount:r.submitCount+1,errors:r.errors}),_)throw _},Nn=(d,E={})=>{O(n,d)&&(ge(E.defaultValue)?Re(d,ke(O(a,d))):(Re(d,E.defaultValue),ie(a,d,ke(E.defaultValue))),E.keepTouched||xe(r.touchedFields,d),E.keepDirty||(xe(r.dirtyFields,d),r.isDirty=E.defaultValue?W(d,ke(O(a,d))):W()),E.keepError||(xe(r.errors,d),m.isValid&&C()),h.state.next({...r}))},rt=(d,E={})=>{const D=d?ke(d):a,_=ke(D),M=Ie(d),L=M?a:_;if(E.keepDefaultValues||(a=D),!E.keepValues){if(E.keepDirtyValues){const Q=new Set([...o.mount,...Object.keys(kr(a,s))]);for(const G of Array.from(Q))O(r.dirtyFields,G)?ie(L,G,O(s,G)):Re(G,O(L,G))}else{if(Ma&&ge(d))for(const Q of o.mount){const G=O(n,Q);if(G&&G._f){const le=Array.isArray(G._f.refs)?G._f.refs[0]:G._f.ref;if(Ln(le)){const pe=le.closest("form");if(pe){pe.reset();break}}}}n={}}s=t.shouldUnregister?E.keepDefaultValues?ke(a):{}:ke(L),h.array.next({values:{...L}}),h.values.next({values:{...L}})}o={mount:E.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!m.isValid||!!E.keepIsValid||!!E.keepDirtyValues,i.watch=!!t.shouldUnregister,h.state.next({submitCount:E.keepSubmitCount?r.submitCount:0,isDirty:M?!1:E.keepDirty?r.isDirty:!!(E.keepDefaultValues&&!Ct(d,a)),isSubmitted:E.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:M?{}:E.keepDirtyValues?E.keepDefaultValues&&s?kr(a,s):r.dirtyFields:E.keepDefaultValues&&d?kr(a,d):E.keepDirty?r.dirtyFields:{},touchedFields:E.keepTouched?r.touchedFields:{},errors:E.keepErrors?r.errors:{},isSubmitSuccessful:E.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Zr=(d,E)=>rt(lt(d)?d(s):d,E);return{control:{register:Rr,unregister:Er,getFieldState:Ue,handleSubmit:Sr,setError:jt,_executeSchema:j,_getWatch:te,_getDirty:W,_updateValid:C,_removeUnmounted:de,_updateFieldArray:P,_updateDisabledField:Xr,_getFieldArray:fe,_reset:rt,_resetDefaultValues:()=>lt(t.defaultValues)&&t.defaultValues().then(d=>{Zr(d,t.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:d=>{r={...r,...d}},_disableForm:xt,_subjects:h,_proxyFormState:m,_setErrors:$,get _fields(){return n},get _formValues(){return s},get _state(){return i},set _state(d){i=d},get _defaultValues(){return a},get _names(){return o},set _names(d){o=d},get _formState(){return r},set _formState(d){r=d},get _options(){return t},set _options(d){t={...t,...d}}},trigger:Be,register:Rr,handleSubmit:Sr,watch:ht,setValue:Re,getValues:wt,reset:Zr,resetField:Nn,clearErrors:ft,unregister:Er,setError:jt,setFocus:(d,E={})=>{const D=O(n,d),_=D&&D._f;if(_){const M=_.refs?_.refs[0]:_.ref;M.focus&&(M.focus(),E.shouldSelect&&lt(M.select)&&M.select())}},getFieldState:Ue}}function vc(e={}){const t=ee.useRef(void 0),r=ee.useRef(void 0),[n,a]=ee.useState({isDirty:!1,isValidating:!1,isLoading:lt(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:lt(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...gc(e),formState:n});const s=t.current.control;return s._options=e,_a({subject:s._subjects.state,next:i=>{Ni(i,s._proxyFormState,s._updateFormState,!0)&&a({...s._formState})}}),ee.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),ee.useEffect(()=>{if(s._proxyFormState.isDirty){const i=s._getDirty();i!==n.isDirty&&s._subjects.state.next({isDirty:i})}},[s,n.isDirty]),ee.useEffect(()=>{e.values&&!Ct(e.values,r.current)?(s._reset(e.values,s._options.resetOptions),r.current=e.values,a(i=>({...i}))):s._resetDefaultValues()},[e.values,s]),ee.useEffect(()=>{e.errors&&s._setErrors(e.errors)},[e.errors,s]),ee.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),ee.useEffect(()=>{e.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[e.shouldUnregister,s]),t.current.formState=ki(n,s),t.current}const Os=(e,t,r)=>{if(e&&"reportValidity"in e){const n=O(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},qi=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?Os(n.ref,r,e):n.refs&&n.refs.forEach(a=>Os(a,r,e))}},bc=(e,t)=>{t.shouldUseNativeValidation&&qi(e,t);const r={};for(const n in e){const a=O(t.fields,n),s=Object.assign(e[n]||{},{ref:a&&a.ref});if(wc(t.names||Object.keys(e),n)){const i=Object.assign({},O(r,n));ie(i,"root",s),ie(r,n,i)}else ie(r,n,s)}return r},wc=(e,t)=>e.some(r=>r.startsWith(t+"."));var xc=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,s=n.message,i=n.path.join(".");if(!r[i])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[i]={message:o.message,type:o.code}}else r[i]={message:s,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(m){return m.errors.forEach(function(h){return e.push(h)})}),t){var l=r[i].types,u=l&&l[n.code];r[i]=Ui(i,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},Ec=function(e,t,r){return r===void 0&&(r={}),function(n,a,s){try{return Promise.resolve(function(i,o){try{var l=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return s.shouldUseNativeValidation&&qi({},s),{errors:{},values:r.raw?n:u}})}catch(u){return o(u)}return l&&l.then?l.then(void 0,o):l}(0,function(i){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(i))return{values:{},errors:bc(xc(i.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw i}))}catch(i){return Promise.reject(i)}}};const As=ee.forwardRef((e,t)=>{const{label:r,value:n,error:a,className:s,onChange:i}=e;return A.jsxs("div",{className:s,children:[A.jsx("label",{className:"cd-block cd-text-lg cd-pt-3 cd-font-sans cd-font-medium",children:r}),A.jsx("input",{ref:t,type:"text",value:n,onChange:o=>i(o.target.value),className:"cd-mt-1 cd-text-gray-900 dark:cd-text-gray-200 cd-font-sans cd-block cd-w-full cd-px-3 cd-py-2 dark:cd-bg-zinc-700 cd-border cd-border-gray-300 dark:cd-border-gray-500 cd-rounded-md cd-shadow-sm focus:cd-outline-none fous:cd-ring-indigo"}),a&&A.jsx("p",{className:"cd-mt-2 cd-text-sm cd-text-red-600",children:a})]})}),Rc=e=>{const{label:t,value:r,error:n,onChange:a,className:s}=e;return A.jsxs("div",{className:`input-date-container ${s}`,children:[A.jsx("label",{className:"input-date-label cd-pt-2 cd-block cd-text-lg cd-font-sans cd-font-medium ",children:t}),A.jsx("input",{type:"date",value:En.unix(r).format("YYYY-MM-DD"),onChange:i=>a(En(i.target.value).unix()),className:yn("input-date  cd-text-gray-900 ","dark:cd-text-gray-200 cd-font-sans ","cd-mt-1 cd-block cd-w-full cd-px-3 cd-py-2 ","dark:cd-bg-zinc-700 cd-border cd-border-gray-300 ","dark:cd-border-gray-500 cd-rounded-md ","cd-shadow-sm focus:cd-outline-none ","fous:cd-ring-indigo")}),n&&A.jsx("p",{className:"cd-mt-2 cd-text-sm cd-text-red-600",children:n})]})},Sc=({label:e,value:t,options:r,error:n,onChange:a,className:s})=>A.jsxs("div",{className:s,children:[A.jsx("label",{className:"cd-block cd-text-lg cd-pt-2 cd-font-sans cd-font-medium",children:e}),A.jsx("select",{value:t,onChange:i=>a(i.target.value),className:"cd-mt-1 cd-text-gray-900 dark:cd-text-gray-200 cd-font-sans  cd-block cd-w-full cd-text-lg cd-px-2 cd-py-3 cd-border cd-border-gray-300 dark:cd-border-gray-500 dark:cd-bg-zinc-700 cd-rounded-md cd-shadow-sm focus:cd-outline-none focus:cd-ring-indigo-500 focus:cd-border-indigo-500 lg:cd-text-lg",children:r.map(i=>A.jsx("option",{className:" cd-text-lg",value:i,children:i},i))}),n&&A.jsx("p",{className:"cd-mt-2 cd-text-sm cd-text-red-600",children:n})]}),Cc=({label:e,onChange:t,value:r,className:n})=>{const[a,s]=w.useState(null);w.useEffect(()=>{r&&s(r)},[r]);const i=o=>{var u;const l=(u=o.target.files)==null?void 0:u[0];if(l&&l.type.startsWith("image/")){const m=new FileReader;m.onloadend=()=>{s(m.result),t({...o,target:{...o.target,value:m.result}})},m.readAsDataURL(l)}else alert("Please select a valid image file")};return A.jsxs("div",{className:`attachment-container ${n}`,children:[A.jsx("label",{className:"attachment-label cd-pt-2 cd-font-medium cd-block cd-text-lg cd-font-sans ",children:e}),A.jsx("input",{type:"file",accept:"image/*",onChange:i,className:" cd-text-gray-900 dark:cd-text-gray-200 cd-font-sans cd-mt-1 cd-block cd-w-full cd-px-3 cd-py-2 dark:cd-bg-zinc-700 cd-border cd-border-gray-300 dark:cd-border-gray-500 cd-rounded-md cd-shadow-sm focus:cd-outline-none focus:cd-ring-indigo"}),a&&A.jsx("div",{className:"image-preview cd-flex cd-justify-center cd-items-center cd-mt-2",children:A.jsx("img",{src:a,alt:"Preview",className:"cd-mt-2 cd-w-20 cd-h-20"})})]})},mn={name:"",description:"",date:En().unix(),amount:0,type:"income",attachment:""},Dc=()=>{var b;const{id:e}=bi(),t=vi(),r=ee.useRef(null),[n]=ee.useState(e?"edit":"create"),{handleSubmit:a,control:s,formState:i,reset:o}=vc({defaultValues:mn,resolver:Ec(to)}),l=si({enabled:!!e,queryKey:[Di.GET_EVENT,e],queryFn:async({queryKey:g})=>await wn.loadEventById(g[1])}),u=es({mutationFn:async g=>(console.log("eventCreateMutation",g),alert("Event guardado"),await wn.saveEvent(g)),onSettled:(g,R)=>{if(R){alert("Error al guardar el evento");return}o(mn),t("/")}}),m=es({mutationFn:async g=>await wn.updateEvent(e,g),onSettled:(g,R)=>{if(R){alert("Error al actualizar el evento");return}alert("Evento actualizado"),o(mn),t("/")}});ee.useEffect(()=>{var g;n==="create"||!((g=l.data)!=null&&g.event)||o(l.data.event)},[(b=l.data)==null?void 0:b.event]),ee.useEffect(()=>(r.current&&r.current.focus(),()=>{console.log("Unmount"),o(mn)}),[]);const h=Uu(u,m),p=Pi(l);return A.jsxs("div",{children:[p&&A.jsx("p",{className:"cd-text-2xl cd-font-bold cd-text-center",children:"Loading Form"}),!p&&A.jsx("section",{className:"cd-w-full",children:A.jsx("main",{className:yn("cd-flex cd-transition-colors ","cd-duration-500  ","cd-flex-row cd-items-center cd-w-full ","cd-pt-5 cd-pb-14 cd-justify-center"),children:A.jsx("div",{className:yn(" cd-px-10  cd-mt-[2rem] ","cd-flex cd-flex-row cd-transition-colors ","cd-duration-500 "),children:A.jsxs("form",{className:"cd-flex cd-flex-col cd-text-lg cd-gap-4 dark:cd-text-white",onSubmit:a(g=>{console.log(n,g),n==="edit"&&e?m.mutate(g):u.mutate(g)}),children:[A.jsxs("div",{className:"cd-flex cd-flex-row cd-justify-center cd-items-center ",children:[A.jsx("button",{type:"button",onClick:()=>t("/"),className:"cd-flex cd-items-center",children:A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",width:"32px",height:"32px",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})})}),A.jsx("h1",{className:"cd-text-4xl cd-flex-grow cd-text-center cd-font-bold",children:"Event Form"})]}),A.jsxs("h1",{className:"cd-font-bold",children:[n==="edit"?"Edit":"Create"," Event"]}),A.jsx(ar,{name:"name",control:s,render:({field:{onChange:g,value:R}})=>{var C,x;return A.jsx(As,{className:"cd-py-1",label:"Name",value:R,onChange:g,error:(x=(C=i.errors)==null?void 0:C.name)==null?void 0:x.message})}}),A.jsx(ar,{name:"description",control:s,render:({field:{onChange:g,value:R}})=>{var C,x;return A.jsx(As,{label:"Description",value:R,onChange:g,error:(x=(C=i.errors)==null?void 0:C.description)==null?void 0:x.message})}}),A.jsx(ar,{name:"date",control:s,render:({field:{onChange:g,value:R}})=>{var C,x;return A.jsx(Rc,{label:"Date",value:R,onChange:g,error:(x=(C=i.errors)==null?void 0:C.date)==null?void 0:x.message})}}),A.jsx(ar,{name:"amount",control:s,render:({field:{value:g,onChange:R}})=>{var C,x;return A.jsx(Fi,{label:"Amount",value:g,onChange:R,error:(x=(C=i.errors)==null?void 0:C.amount)==null?void 0:x.message})}}),A.jsx(ar,{name:"type",control:s,render:({field:{value:g,onChange:R}})=>A.jsx(Sc,{label:"Type",value:g,options:["income","expense"],onChange:R})}),A.jsx(ar,{name:"attachment",control:s,render:({field:{value:g,onChange:R}})=>A.jsx(Cc,{label:"Attachment",value:g,onChange:R})}),A.jsxs("button",{className:yn("cd-self-center cd-mt-4 ","cd-font-medium cd-text-lg ","cd-font-sans cd-px-80 cd-py-4 ","cd-bg-violet-500 cd-text-white ","cd-rounded-md hover:cd-bg-violet-600"),type:"submit",children:[h?"Saving...":n==="edit"?"Edit":" Create"," Event"]})]})})})})]})},Pc=new bo({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}}),Fc=Cu([{path:"/",Component:ec,children:[{index:!0,element:A.jsx(Xu,{})},{path:"events/form/:id?",element:A.jsx(Dc,{})}]}]);function Lc(){const[e,t]=ee.useState(Li);return ee.useEffect(()=>{const n=localStorage.getItem("schema");n&&r(n)},[]),A.jsx(Ti.Provider,{value:{...e,toggleSchema:()=>r(e.schema==="light"?"dark":"light")},children:A.jsx(Iu,{router:Fc})});function r(n){t(a=>({...a,schema:n})),localStorage.setItem("schema",n),n==="light"?document.body.classList.remove("cd-dark"):document.body.classList.add("cd-dark")}}no.createRoot(document.getElementById("root")).render(A.jsx(w.StrictMode,{children:A.jsx(So,{client:Pc,children:A.jsx(Lc,{})})}));
